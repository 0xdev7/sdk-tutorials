(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{610:function(l,c,Z){"use strict";Z.r(c);var e=Z(0),a=Object(e.a)({},(function(){var l=this,c=l.$createElement,Z=l._self._c||c;return Z("ContentSlotsDistributor",{attrs:{"slot-key":l.$parent.slotKey}},[Z("h1",{attrs:{id:"initialize-the-orders"}},[Z("a",{staticClass:"header-anchor",attrs:{href:"#initialize-the-orders"}},[l._v("#")]),l._v(" Initialize the Orders")]),l._v(" "),Z("p",[l._v("In this chapter you will initialize the bank keeper into "),Z("code",[l._v("ibcdex")]),l._v(" and update the module in the "),Z("code",[l._v("app.go")]),l._v(" file.\nYou will make sure that there can be no new native tokens minted on a blockchain, which will secure the exchange module from any counterparty misbehaviour.")]),l._v(" "),Z("h2",{attrs:{id:"add-the-bank-keeper-to-the-module"}},[Z("a",{staticClass:"header-anchor",attrs:{href:"#add-the-bank-keeper-to-the-module"}},[l._v("#")]),l._v(" Add the bank keeper to the module")]),l._v(" "),Z("p",[l._v("Add the bank keeper reference to the "),Z("code",[l._v("ibcdex")]),l._v(" module. First, in the "),Z("code",[l._v("types")]),l._v(" directory.")]),l._v(" "),Z("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8geC9pYmNkZXgvdHlwZXMvZXhwZWN0ZWRfa2VlcGVyLmdvCnBhY2thZ2UgdHlwZXMKCmltcG9ydCBzZGsgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay90eXBlcyZxdW90OwoKLy8gQmFua0tlZXBlciBkZWZpbmVzIHRoZSBleHBlY3RlZCBiYW5rIGtlZXBlcgp0eXBlIEJhbmtLZWVwZXIgaW50ZXJmYWNlIHsKCVNlbmRDb2lucyhjdHggc2RrLkNvbnRleHQsIGZyb21BZGRyIHNkay5BY2NBZGRyZXNzLCB0b0FkZHIgc2RrLkFjY0FkZHJlc3MsIGFtdCBzZGsuQ29pbnMpIGVycm9yCglNaW50Q29pbnMoY3R4IHNkay5Db250ZXh0LCBtb2R1bGVOYW1lIHN0cmluZywgYW10IHNkay5Db2lucykgZXJyb3IKCUJ1cm5Db2lucyhjdHggc2RrLkNvbnRleHQsIG1vZHVsZU5hbWUgc3RyaW5nLCBhbXQgc2RrLkNvaW5zKSBlcnJvcgoJU2VuZENvaW5zRnJvbU1vZHVsZVRvQWNjb3VudChjdHggc2RrLkNvbnRleHQsIHNlbmRlck1vZHVsZSBzdHJpbmcsIHJlY2lwaWVudEFkZHIgc2RrLkFjY0FkZHJlc3MsIGFtdCBzZGsuQ29pbnMpIGVycm9yCglTZW5kQ29pbnNGcm9tQWNjb3VudFRvTW9kdWxlKGN0eCBzZGsuQ29udGV4dCwgc2VuZGVyQWRkciBzZGsuQWNjQWRkcmVzcywgcmVjaXBpZW50TW9kdWxlIHN0cmluZywgYW10IHNkay5Db2lucykgZXJyb3IKfQo="}}),l._v(" "),Z("p",[l._v("Next, in the "),Z("code",[l._v("keeper")]),l._v(" directory, specify the bank so that you can access it in your module.")]),l._v(" "),Z("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8geC9pYmNkZXgva2VlcGVyL2tlZXBlci5nbwp0eXBlICgKCUtlZXBlciBzdHJ1Y3QgewoJCWNkYyAgICAgICAgICAgY29kZWMuTWFyc2hhbGVyCgkJc3RvcmVLZXkgICAgICBzZGsuU3RvcmVLZXkKCQltZW1LZXkgICAgICAgIHNkay5TdG9yZUtleQoJCWNoYW5uZWxLZWVwZXIgdHlwZXMuQ2hhbm5lbEtlZXBlcgoJCXBvcnRLZWVwZXIgICAgdHlwZXMuUG9ydEtlZXBlcgoJCXNjb3BlZEtlZXBlciAgY2FwYWJpbGl0eWtlZXBlci5TY29wZWRLZWVwZXIKCQliYW5rS2VlcGVyICAgIHR5cGVzLkJhbmtLZWVwZXIKCX0KKQoKZnVuYyBOZXdLZWVwZXIoCgljZGMgY29kZWMuTWFyc2hhbGVyLAoJc3RvcmVLZXksCgltZW1LZXkgc2RrLlN0b3JlS2V5LAoJY2hhbm5lbEtlZXBlciB0eXBlcy5DaGFubmVsS2VlcGVyLAoJcG9ydEtlZXBlciB0eXBlcy5Qb3J0S2VlcGVyLAoJc2NvcGVkS2VlcGVyIGNhcGFiaWxpdHlrZWVwZXIuU2NvcGVkS2VlcGVyLAoJYmFua0tlZXBlciB0eXBlcy5CYW5rS2VlcGVyLAopICpLZWVwZXIgewoJcmV0dXJuICZhbXA7S2VlcGVyewoJCWNkYzogICAgICAgICAgIGNkYywKCQlzdG9yZUtleTogICAgICBzdG9yZUtleSwKCQltZW1LZXk6ICAgICAgICBtZW1LZXksCgkJY2hhbm5lbEtlZXBlcjogY2hhbm5lbEtlZXBlciwKCQlwb3J0S2VlcGVyOiAgICBwb3J0S2VlcGVyLAoJCXNjb3BlZEtlZXBlcjogIHNjb3BlZEtlZXBlciwKCQliYW5rS2VlcGVyOiAgICBiYW5rS2VlcGVyLAoJfQp9Cg=="}}),l._v(" "),Z("p",[l._v("Lastly, the "),Z("code",[l._v("app.go")]),l._v(" file that describes which modules are used in the blockchain application, add the bank keeper to the "),Z("code",[l._v("ibcdexKeeper")])]),l._v(" "),Z("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gYXBwL2FwcC5nbwphcHAuaWJjZGV4S2VlcGVyID0gKmliY2RleGtlZXBlci5OZXdLZWVwZXIoCiAgYXBwQ29kZWMsCglrZXlzW2liY2RleHR5cGVzLlN0b3JlS2V5XSwKCWtleXNbaWJjZGV4dHlwZXMuTWVtU3RvcmVLZXldLAoJYXBwLklCQ0tlZXBlci5DaGFubmVsS2VlcGVyLAoJJmFtcDthcHAuSUJDS2VlcGVyLlBvcnRLZWVwZXIsCglzY29wZWRJYmNkZXhLZWVwZXIsCglhcHAuQmFua0tlZXBlciwKKQo="}}),l._v(" "),Z("p",[l._v("The app will mint and burn token using the bank account. The use this feature, the module must have a "),Z("em",[l._v("module account")]),l._v(". To enable the "),Z("em",[l._v("module account")]),l._v(" you declare this permission in the "),Z("em",[l._v("module account permissions")]),l._v(" structure of the auth module. This is done in "),Z("code",[l._v("app.go")]),l._v(" file.")]),l._v(" "),Z("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gYXBwL2FwcC5nbwptYWNjUGVybXMgPSBtYXBbc3RyaW5nXVtdc3RyaW5newogICAgYXV0aHR5cGVzLkZlZUNvbGxlY3Rvck5hbWU6ICAgICBuaWwsCiAgICBkaXN0cnR5cGVzLk1vZHVsZU5hbWU6ICAgICAgICAgIG5pbCwKICAgIG1pbnR0eXBlcy5Nb2R1bGVOYW1lOiAgICAgICAgICAge2F1dGh0eXBlcy5NaW50ZXJ9LAogICAgc3Rha2luZ3R5cGVzLkJvbmRlZFBvb2xOYW1lOiAgICB7YXV0aHR5cGVzLkJ1cm5lciwgYXV0aHR5cGVzLlN0YWtpbmd9LAogICAgc3Rha2luZ3R5cGVzLk5vdEJvbmRlZFBvb2xOYW1lOiB7YXV0aHR5cGVzLkJ1cm5lciwgYXV0aHR5cGVzLlN0YWtpbmd9LAogICAgZ292dHlwZXMuTW9kdWxlTmFtZTogICAgICAgICAgICB7YXV0aHR5cGVzLkJ1cm5lcn0sCiAgICBpYmN0cmFuc2ZlcnR5cGVzLk1vZHVsZU5hbWU6ICAgIHthdXRodHlwZXMuTWludGVyLCBhdXRodHlwZXMuQnVybmVyfSwKICAgIGliY2RleHR5cGVzLk1vZHVsZU5hbWU6IAkJe2F1dGh0eXBlcy5NaW50ZXIsIGF1dGh0eXBlcy5CdXJuZXJ9LCAvLyAmbHQ7LS0KfQo="}}),l._v(" "),Z("h2",{attrs:{id:"ensure-no-native-token-is-minted"}},[Z("a",{staticClass:"header-anchor",attrs:{href:"#ensure-no-native-token-is-minted"}},[l._v("#")]),l._v(" Ensure no native token is minted")]),l._v(" "),Z("p",[l._v("Ensure that no new native tokens are minted in case the module is connected to a malicious or faulty counterparty. Rename this functionality into lock and unlock and reuse functions from "),Z("code",[l._v("ibc-transfer")]),l._v(" module with an escrow address to ensure no new token creation.")]),l._v(" "),Z("p",[l._v("For non-native tokens, use the "),Z("em",[l._v("module accounts")]),l._v(" functionality.")]),l._v(" "),Z("p",[l._v("To abstract the process of deciding if a token must be locked or burned, create the "),Z("code",[l._v("SafeBurn")]),l._v(" and "),Z("code",[l._v("SafeMint")]),l._v(" functions. Those functions will check if the denom is native to the chain or a voucher.")]),l._v(" "),Z("p",[l._v("Consider that any denom starting with "),Z("code",[l._v("ibc/")]),l._v(" is a voucher.")]),l._v(" "),Z("p",[l._v("Define utilitary functions.")]),l._v(" "),Z("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8geC9pYmNkZXgva2VlcGVyL21pbnQuZ28KcGFja2FnZSBrZWVwZXIKCmltcG9ydCAoCgkmcXVvdDtmbXQmcXVvdDsKCXNkayAmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3R5cGVzJnF1b3Q7CglpYmN0cmFuc2ZlcnR5cGVzICZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsveC9pYmMvYXBwbGljYXRpb25zL3RyYW5zZmVyL3R5cGVzJnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL3RlbmRlcm1pbnQvaW50ZXJjaGFuZ2UveC9pYmNkZXgvdHlwZXMmcXVvdDsKKQoKLy8gaXNJQkNUb2tlbiBjaGVja3MgaWYgdGhlIHRva2VuIGNhbWUgZnJvbSB0aGUgSUJDIG1vZHVsZQpmdW5jIGlzSUJDVG9rZW4oZGVub20gc3RyaW5nKSBib29sIHsKCXJldHVybiBzdHJpbmdzLkhhc1ByZWZpeChkZW5vbSwgJnF1b3Q7aWJjLyZxdW90OykKfQoKZnVuYyAoayBLZWVwZXIpIFNhZmVCdXJuKAoJY3R4IHNkay5Db250ZXh0LAoJcG9ydCBzdHJpbmcsCgljaGFubmVsIHN0cmluZywKCXNlbmRlciBzZGsuQWNjQWRkcmVzcywKCWRlbm9tIHN0cmluZywKCWFtb3VudCBpbnQzMiwKKSBlcnJvciB7CglpZiBpc0lCQ1Rva2VuKGRlbm9tKSB7CgkJLy8gQnVybiB0aGUgdG9rZW5zCgkJaWYgZXJyIDo9IGsuQnVyblRva2VucygKCQkJY3R4LCBzZW5kZXIsCgkJCXNkay5OZXdDb2luKGRlbm9tLCBzZGsuTmV3SW50KGludDY0KGFtb3VudCkpKSwKCQkpOyBlcnIgIT0gbmlsIHsKCQkJcmV0dXJuIGVycgoJCX0KCX0gZWxzZSB7CgkJLy8gTG9jayB0aGUgdG9rZW4gdG8gc2VuZAoJCWlmIGVyciA6PSBrLkxvY2tUb2tlbnMoCgkJCWN0eCwKCQkJcG9ydCwKCQkJY2hhbm5lbCwKCQkJc2VuZGVyLAoJCQlzZGsuTmV3Q29pbihkZW5vbSwgc2RrLk5ld0ludChpbnQ2NChhbW91bnQpKSksCgkJKTsgZXJyICE9IG5pbCB7CgkJCXJldHVybiBlcnIKCQl9Cgl9CglyZXR1cm4gbmlsCn0KCmZ1bmMgKGsgS2VlcGVyKSBTYWZlTWludCgKCWN0eCBzZGsuQ29udGV4dCwKCXBvcnQgc3RyaW5nLAoJY2hhbm5lbCBzdHJpbmcsCglyZWNlaXZlciBzZGsuQWNjQWRkcmVzcywKCWRlbm9tIHN0cmluZywKCWFtb3VudCBpbnQzMiwKKSBlcnJvciB7CglpZiBpc0lCQ1Rva2VuKGRlbm9tKSB7CgkJLy8gTWludCBJQkMgdG9rZW5zCgkJaWYgZXJyIDo9IGsuTWludFRva2VucygKCQkJY3R4LAoJCQlyZWNlaXZlciwKCQkJc2RrLk5ld0NvaW4oZGVub20sIHNkay5OZXdJbnQoaW50NjQoYW1vdW50KSkpLAoJCSk7IGVyciAhPSBuaWwgewoJCQlyZXR1cm4gZXJyCgkJfQoJfSBlbHNlIHsKCQkvLyBVbmxvY2sgbmF0aXZlIHRva2VucwoJCWlmIGVyciA6PSBrLlVubG9ja1Rva2VucygKCQkJY3R4LAoJCQlwb3J0LAoJCQljaGFubmVsLAoJCQlyZWNlaXZlciwKCQkJc2RrLk5ld0NvaW4oZGVub20sIHNkay5OZXdJbnQoaW50NjQoYW1vdW50KSkpLAoJCSk7IGVyciAhPSBuaWwgewoJCQlyZXR1cm4gZXJyCgkJfQoJfQoJcmV0dXJuIG5pbAp9CgpmdW5jIChrIEtlZXBlcikgQnVyblRva2VucygKCWN0eCBzZGsuQ29udGV4dCwKCXNlbmRlciBzZGsuQWNjQWRkcmVzcywKCXRva2VucyBzZGsuQ29pbiwKKSBlcnJvciB7CgkvLyB0cmFuc2ZlciB0aGUgY29pbnMgdG8gdGhlIG1vZHVsZSBhY2NvdW50IGFuZCBidXJuIHRoZW0KCWlmIGVyciA6PSBrLmJhbmtLZWVwZXIuU2VuZENvaW5zRnJvbUFjY291bnRUb01vZHVsZSgKCQljdHgsIHNlbmRlciwgdHlwZXMuTW9kdWxlTmFtZSwgc2RrLk5ld0NvaW5zKHRva2VucyksCgkpOyBlcnIgIT0gbmlsIHsKCQlyZXR1cm4gZXJyCgl9CgoJaWYgZXJyIDo9IGsuYmFua0tlZXBlci5CdXJuQ29pbnMoCgkJY3R4LCB0eXBlcy5Nb2R1bGVOYW1lLCBzZGsuTmV3Q29pbnModG9rZW5zKSwKCSk7IGVyciAhPSBuaWwgewoJCS8vIE5PVEU6IHNob3VsZCBub3QgaGFwcGVuIGFzIHRoZSBtb2R1bGUgYWNjb3VudCB3YXMKCQkvLyByZXRyaWV2ZWQgb24gdGhlIHN0ZXAgYWJvdmUgYW5kIGl0IGhhcyBlbm91Z2ggYmFsYWNlCgkJLy8gdG8gYnVybi4KCQlwYW5pYyhmbXQuU3ByaW50ZigmcXVvdDtjYW5ub3QgYnVybiBjb2lucyBhZnRlciBhIHN1Y2Nlc3NmdWwgc2VuZCB0byBhIG1vZHVsZSBhY2NvdW50OiAldiZxdW90OywgZXJyKSkKCX0KCglyZXR1cm4gbmlsCn0KCmZ1bmMgKGsgS2VlcGVyKSBNaW50VG9rZW5zKAoJY3R4IHNkay5Db250ZXh0LAoJcmVjZWl2ZXIgc2RrLkFjY0FkZHJlc3MsCgl0b2tlbnMgc2RrLkNvaW4sCikgZXJyb3IgewoJLy8gbWludCBuZXcgdG9rZW5zIGlmIHRoZSBzb3VyY2Ugb2YgdGhlIHRyYW5zZmVyIGlzIHRoZSBzYW1lIGNoYWluCglpZiBlcnIgOj0gay5iYW5rS2VlcGVyLk1pbnRDb2lucygKCQljdHgsIHR5cGVzLk1vZHVsZU5hbWUsIHNkay5OZXdDb2lucyh0b2tlbnMpLAoJKTsgZXJyICE9IG5pbCB7CgkJcmV0dXJuIGVycgoJfQoKCS8vIHNlbmQgdG8gcmVjZWl2ZXIKCWlmIGVyciA6PSBrLmJhbmtLZWVwZXIuU2VuZENvaW5zRnJvbU1vZHVsZVRvQWNjb3VudCgKCQljdHgsIHR5cGVzLk1vZHVsZU5hbWUsIHJlY2VpdmVyLCBzZGsuTmV3Q29pbnModG9rZW5zKSwKCSk7IGVyciAhPSBuaWwgewoJCXBhbmljKGZtdC5TcHJpbnRmKCZxdW90O3VuYWJsZSB0byBzZW5kIGNvaW5zIGZyb20gbW9kdWxlIHRvIGFjY291bnQgZGVzcGl0ZSBwcmV2aW91c2x5IG1pbnRpbmcgY29pbnMgdG8gbW9kdWxlIGFjY291bnQ6ICV2JnF1b3Q7LCBlcnIpKQoJfQoKCXJldHVybiBuaWwKfQoKZnVuYyAoayBLZWVwZXIpIExvY2tUb2tlbnMoCgljdHggc2RrLkNvbnRleHQsCglzb3VyY2VQb3J0IHN0cmluZywKCXNvdXJjZUNoYW5uZWwgc3RyaW5nLAoJc2VuZGVyIHNkay5BY2NBZGRyZXNzLAoJdG9rZW5zIHNkay5Db2luLAopIGVycm9yIHsKCS8vIGNyZWF0ZSB0aGUgZXNjcm93IGFkZHJlc3MgZm9yIHRoZSB0b2tlbnMKCWVzY3Jvd0FkZHJlc3MgOj0gaWJjdHJhbnNmZXJ0eXBlcy5HZXRFc2Nyb3dBZGRyZXNzKHNvdXJjZVBvcnQsIHNvdXJjZUNoYW5uZWwpCgoJLy8gZXNjcm93IHNvdXJjZSB0b2tlbnMuIEl0IGZhaWxzIGlmIGJhbGFuY2UgaW5zdWZmaWNpZW50CglpZiBlcnIgOj0gay5iYW5rS2VlcGVyLlNlbmRDb2lucygKCQljdHgsIHNlbmRlciwgZXNjcm93QWRkcmVzcywgc2RrLk5ld0NvaW5zKHRva2VucyksCgkpOyBlcnIgIT0gbmlsIHsKCQlyZXR1cm4gZXJyCgl9CgoJcmV0dXJuIG5pbAp9CgpmdW5jIChrIEtlZXBlcikgVW5sb2NrVG9rZW5zKAoJY3R4IHNkay5Db250ZXh0LAoJc291cmNlUG9ydCBzdHJpbmcsCglzb3VyY2VDaGFubmVsIHN0cmluZywKCXJlY2VpdmVyIHNkay5BY2NBZGRyZXNzLAoJdG9rZW5zIHNkay5Db2luLAopIGVycm9yIHsKCS8vIGNyZWF0ZSB0aGUgZXNjcm93IGFkZHJlc3MgZm9yIHRoZSB0b2tlbnMKCWVzY3Jvd0FkZHJlc3MgOj0gaWJjdHJhbnNmZXJ0eXBlcy5HZXRFc2Nyb3dBZGRyZXNzKHNvdXJjZVBvcnQsIHNvdXJjZUNoYW5uZWwpCgoJLy8gZXNjcm93IHNvdXJjZSB0b2tlbnMuIEl0IGZhaWxzIGlmIGJhbGFuY2UgaW5zdWZmaWNpZW50CglpZiBlcnIgOj0gay5iYW5rS2VlcGVyLlNlbmRDb2lucygKCQljdHgsIGVzY3Jvd0FkZHJlc3MsIHJlY2VpdmVyLCBzZGsuTmV3Q29pbnModG9rZW5zKSwKCSk7IGVyciAhPSBuaWwgewoJCXJldHVybiBlcnIKCX0KCglyZXR1cm4gbmlsCn0K"}}),l._v(" "),Z("h2",{attrs:{id:"declare-the-denom"}},[Z("a",{staticClass:"header-anchor",attrs:{href:"#declare-the-denom"}},[l._v("#")]),l._v(" Declare the denom")]),l._v(" "),Z("p",[l._v("As defined in the "),Z("RouterLink",{attrs:{to:"/interchain-exchange/tutorial/01-app-design.html"}},[l._v("App Design")]),l._v(", token sent with IBC will create "),Z("code",[l._v("voucher")]),l._v(" token.\nThe following rules apply:")],1),l._v(" "),Z("ul",[Z("li",[l._v("An external token received from a chain has a unique denom, referred to as "),Z("code",[l._v("voucher")])]),l._v(" "),Z("li",[l._v("When a token sent to a chain is received back, the chain can resolve the voucher and convert it back to the original token denomination")])]),l._v(" "),Z("p",[l._v("Vouchers are hashes, therefore you must store which original denomination is related to a voucher, do this with an "),Z("code",[l._v("indexed")]),l._v(" type transaction.")]),l._v(" "),Z("p",[l._v("For a voucher, store the following information:")]),l._v(" "),Z("ul",[Z("li",[l._v("the source port ID")]),l._v(" "),Z("li",[l._v("source channel ID")]),l._v(" "),Z("li",[l._v("the original denom")])]),l._v(" "),Z("p",[l._v("Define the methods to:")]),l._v(" "),Z("ul",[Z("li",[l._v("determine voucher from a port, channel and denom")]),l._v(" "),Z("li",[l._v("save all voucher to resolve into original denoms")]),l._v(" "),Z("li",[l._v("resolve vouchers")])]),l._v(" "),Z("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8geC9pYmNkZXgva2VlcGVyL2Rlbm9tLmdvCnBhY2thZ2Uga2VlcGVyCgppbXBvcnQgKAoJc2RrICZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvdHlwZXMmcXVvdDsKCWliY3RyYW5zZmVydHlwZXMgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay94L2liYy9hcHBsaWNhdGlvbnMvdHJhbnNmZXIvdHlwZXMmcXVvdDsKCSZxdW90O2dpdGh1Yi5jb20vdGVuZGVybWludC9pbnRlcmNoYW5nZS94L2liY2RleC90eXBlcyZxdW90OwopCgovLyBWb3VjaGVyRGVub20gcmV0dXJucyB0aGUgdm91Y2hlciBvZiB0aGUgZGVub20gZnJvbSB0aGUgcG9ydCBJRCBhbmQgY2hhbm5lbCBJRAovLyBhbmQgc2F2ZXMgdGhlIG9yaWdpbiBpbiB0aGUgc3RvcmUKZnVuYyBWb3VjaGVyRGVub20ocG9ydCBzdHJpbmcsIGNoYW5uZWwgc3RyaW5nLCBkZW5vbSBzdHJpbmcpIHN0cmluZyB7CgkvLyBzaW5jZSBTZW5kUGFja2V0IGRpZCBub3QgcHJlZml4IHRoZSBkZW5vbWluYXRpb24sIHdlIG11c3QgcHJlZml4IGRlbm9taW5hdGlvbiBoZXJlCglzb3VyY2VQcmVmaXggOj0gaWJjdHJhbnNmZXJ0eXBlcy5HZXREZW5vbVByZWZpeChwb3J0LCBjaGFubmVsKQoKCS8vIE5PVEU6IHNvdXJjZVByZWZpeCBjb250YWlucyB0aGUgdHJhaWxpbmcgJnF1b3Q7LyZxdW90OwoJcHJlZml4ZWREZW5vbSA6PSBzb3VyY2VQcmVmaXggKyBkZW5vbQoKCS8vIGNvbnN0cnVjdCB0aGUgZGVub21pbmF0aW9uIHRyYWNlIGZyb20gdGhlIGZ1bGwgcmF3IGRlbm9taW5hdGlvbgoJZGVub21UcmFjZSA6PSBpYmN0cmFuc2ZlcnR5cGVzLlBhcnNlRGVub21UcmFjZShwcmVmaXhlZERlbm9tKQoKCXZvdWNoZXIgOj0gZGVub21UcmFjZS5JQkNEZW5vbSgpCgoJcmV0dXJuIHZvdWNoZXIKfQoKLy8gU2F2ZVZvdWNoZXJEZW5vbSBzYXZlcyB0aGUgdm91Y2hlciBkZW5vbSB0byBiZSBhYmxlIHRvIGNvbnZlcnQgaXQgYmFjayBsYXRlcgpmdW5jIChrIEtlZXBlcikgU2F2ZVZvdWNoZXJEZW5vbShjdHggc2RrLkNvbnRleHQsIHBvcnQgc3RyaW5nLCBjaGFubmVsIHN0cmluZywgZGVub20gc3RyaW5nKSB7Cgl2b3VjaGVyIDo9IFZvdWNoZXJEZW5vbShwb3J0LCBjaGFubmVsLCBkZW5vbSkKCgkvLyBTdG9yZSB0aGUgb3JpZ2luIGRlbm9tCglfLCBzYXZlZCA6PSBrLkdldERlbm9tVHJhY2UoY3R4LCB2b3VjaGVyKQoJaWYgIXNhdmVkIHsKCQlrLlNldERlbm9tVHJhY2UoY3R4LCB0eXBlcy5EZW5vbVRyYWNlewoJCQlJbmRleDogICB2b3VjaGVyLAoJCQlQb3J0OiAgICBwb3J0LAoJCQlDaGFubmVsOiBjaGFubmVsLAoJCQlPcmlnaW46ICBkZW5vbSwKCQl9KQoJfQp9CgovLyBPcmlnaW5hbERlbm9tIHJldHVybnMgYmFjayB0aGUgb3JpZ2luYWwgZGVub20gb2YgdGhlIHZvdWNoZXIKLy8gRmFsc2UgaXMgcmV0dXJuZWQgaWYgdGhlIHBvcnQgSUQgYW5kIGNoYW5uZWwgSUQgcHJvdmlkZWQgYXJlIG5vdCB0aGUgb3JpZ2lucyBvZiB0aGUgdm91Y2hlcgpmdW5jIChrIEtlZXBlcikgT3JpZ2luYWxEZW5vbShjdHggc2RrLkNvbnRleHQsIHBvcnQgc3RyaW5nLCBjaGFubmVsIHN0cmluZywgdm91Y2hlciBzdHJpbmcpIChzdHJpbmcsIGJvb2wpIHsKCXRyYWNlLCBleGlzdCA6PSBrLkdldERlbm9tVHJhY2UoY3R4LCB2b3VjaGVyKQoJaWYgZXhpc3QgewoJCS8vIENoZWNrIGlmIG9yaWdpbmFsIHBvcnQgYW5kIGNoYW5uZWwKCQlpZiB0cmFjZS5Qb3J0ID09IHBvcnQgJmFtcDsmYW1wOyB0cmFjZS5DaGFubmVsID09IGNoYW5uZWwgewoJCQlyZXR1cm4gdHJhY2UuT3JpZ2luLCB0cnVlCgkJfQoJfQoKCS8vIE5vdCB0aGUgb3JpZ2luYWwgY2hhaW4KCXJldHVybiAmcXVvdDsmcXVvdDssIGZhbHNlCn0K"}}),l._v(" "),Z("p",[l._v("In the next chapter, you will learn how to create the IBC packets for buy and sell orders. How to use packets that are received, acknowledged or timed out.")])],1)}),[],!1,null,null,null);c.default=a.exports}}]);