(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{678:function(e,t,c){"use strict";c.r(t);var a=c(0),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[c("h1",{attrs:{id:"create-posts-with-http"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#create-posts-with-http"}},[e._v("#")]),e._v(" Create posts with HTTP")]),e._v(" "),c("p",[e._v("Let's create a front-end for our blog application. In this guide we will be writing a client-side application in JavaScript that can create a wallet (public/private key pair), fetch a list of posts from our server, create posts and send to our server.")]),e._v(" "),c("h2",{attrs:{id:"x-blog-client-rest-rest-go"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#x-blog-client-rest-rest-go"}},[e._v("#")]),e._v(" "),c("code",[e._v("x/blog/client/rest/rest.go")])]),e._v(" "),c("p",[e._v("We'll be creating posts by sending "),c("code",[e._v("POST")]),e._v(" requests to the same endpoint: "),c("code",[e._v("/blog/posts")]),e._v(". To add a handler add the following line to "),c("code",[e._v("func RegisterRoutes")]),e._v(":")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"CXIuSGFuZGxlRnVuYygmcXVvdDsvYmxvZy9wb3N0cyZxdW90OywgY3JlYXRlUG9zdEhhbmRsZXIoY2xpQ3R4KSkuTWV0aG9kcygmcXVvdDtQT1NUJnF1b3Q7KQo="}}),e._v(" "),c("p",[e._v("Now let's create "),c("code",[e._v("createPostHandler")]),e._v(" inside a new file you should create at "),c("code",[e._v("x/blog/client/rest/txPost.go")]),e._v(".")]),e._v(" "),c("h3",{attrs:{id:"x-blog-client-rest-txpost-go"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#x-blog-client-rest-txpost-go"}},[e._v("#")]),e._v(" x/blog/client/rest/txPost.go")]),e._v(" "),c("p",[e._v("We will need a "),c("code",[e._v("createPostRequest")]),e._v(" type that represents the request that we will be sending from the client:")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSByZXN0CgppbXBvcnQgKAoJJnF1b3Q7bmV0L2h0dHAmcXVvdDsKCgkmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL2NsaWVudC9jb250ZXh0JnF1b3Q7CglzZGsgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay90eXBlcyZxdW90OwoJJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay90eXBlcy9yZXN0JnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3gvYXV0aC9jbGllbnQvdXRpbHMmcXVvdDsKCSZxdW90O2dpdGh1Yi5jb20vZXhhbXBsZS9ibG9nL3gvYmxvZy90eXBlcyZxdW90OwopCgp0eXBlIGNyZWF0ZVBvc3RSZXF1ZXN0IHN0cnVjdCB7CglCYXNlUmVxIHJlc3QuQmFzZVJlcSBganNvbjomcXVvdDtiYXNlX3JlcSZxdW90O2AKCUNyZWF0b3Igc3RyaW5nICAgICAgIGBqc29uOiZxdW90O2NyZWF0b3ImcXVvdDtgCglUaXRsZSAgIHN0cmluZyAgICAgICBganNvbjomcXVvdDt0aXRsZSZxdW90O2AKCUJvZHkgICAgc3RyaW5nICAgICAgIGBqc29uOiZxdW90O2JvZHkmcXVvdDtgCn0KCmZ1bmMgY3JlYXRlUG9zdEhhbmRsZXIoY2xpQ3R4IGNvbnRleHQuQ0xJQ29udGV4dCkgaHR0cC5IYW5kbGVyRnVuYyB7CglyZXR1cm4gZnVuYyh3IGh0dHAuUmVzcG9uc2VXcml0ZXIsIHIgKmh0dHAuUmVxdWVzdCkgewoJCXZhciByZXEgY3JlYXRlUG9zdFJlcXVlc3QKCQlpZiAhcmVzdC5SZWFkUkVTVFJlcSh3LCByLCBjbGlDdHguQ29kZWMsICZhbXA7cmVxKSB7CgkJCXJlc3QuV3JpdGVFcnJvclJlc3BvbnNlKHcsIGh0dHAuU3RhdHVzQmFkUmVxdWVzdCwgJnF1b3Q7ZmFpbGVkIHRvIHBhcnNlIHJlcXVlc3QmcXVvdDspCgkJCXJldHVybgoJCX0KCQliYXNlUmVxIDo9IHJlcS5CYXNlUmVxLlNhbml0aXplKCkKCQlpZiAhYmFzZVJlcS5WYWxpZGF0ZUJhc2ljKHcpIHsKCQkJcmV0dXJuCgkJfQoJCWNyZWF0b3IsIGVyciA6PSBzZGsuQWNjQWRkcmVzc0Zyb21CZWNoMzIocmVxLkNyZWF0b3IpCgkJaWYgZXJyICE9IG5pbCB7CgkJCXJlc3QuV3JpdGVFcnJvclJlc3BvbnNlKHcsIGh0dHAuU3RhdHVzQmFkUmVxdWVzdCwgZXJyLkVycm9yKCkpCgkJCXJldHVybgoJCX0KCQltc2cgOj0gdHlwZXMuTmV3TXNnQ3JlYXRlUG9zdChjcmVhdG9yLCByZXEuVGl0bGUsIHJlcS5Cb2R5KQoJCXV0aWxzLldyaXRlR2VuZXJhdGVTdGRUeFJlc3BvbnNlKHcsIGNsaUN0eCwgYmFzZVJlcSwgW11zZGsuTXNne21zZ30pCgl9Cn0KCg=="}}),e._v(" "),c("p",[c("code",[e._v("createPostHandler")]),e._v(" first parses request parameters, performs basic validations, converts "),c("code",[e._v("Creator")]),e._v(" field from a string into an SDK account address type then finally creates "),c("code",[e._v("MsgCreatePost")]),e._v(" message.")]),e._v(" "),c("h2",{attrs:{id:"creating-an-account"}},[c("a",{staticClass:"header-anchor",attrs:{href:"#creating-an-account"}},[e._v("#")]),e._v(" Creating an account")]),e._v(" "),c("p",[e._v("Before we start using our application we need to make sure that the account we have generated exists on our chain. To do so we will send a nominal amount of tokens from an existing account to a new one.")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"YmxvZ2NsaSBrZXlzIHNob3cgdXNlcjEK"}}),e._v(" "),c("p",[e._v("You will get information about one of the existing accounts (your values will be different):")]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"ewogICZxdW90O25hbWUmcXVvdDs6ICZxdW90O3VzZXIxJnF1b3Q7LAogICZxdW90O3R5cGUmcXVvdDs6ICZxdW90O2xvY2FsJnF1b3Q7LAogICZxdW90O2FkZHJlc3MmcXVvdDs6ICZxdW90O2Nvc21vczF3dDQ3eXZlNmwyOXlqdHh0c2FqaGx0cjJ2cWhmN21wdzVuNmZ4NiZxdW90OywKICAmcXVvdDtwdWJrZXkmcXVvdDs6ICZxdW90O2Nvc21vc3B1YjFhZGR3bnBlcHEwM3Y3ZDZxNHl0NG5hbGo3NGVscThsNTQ5OHdkOWtyY3g5Mm14dWRrYXJqOGFhcHkwcWp2ZmFnYTh6JnF1b3Q7Cn0K"}}),e._v(" "),c("p",[e._v("Transfer some tokens from this account to the new one:")]),e._v(" "),c("p",[e._v("The passphrase for this account is:\n"),c("code",[e._v("solid play vibrant paper clinic talent people employ august camp april reduce")])]),e._v(" "),c("tm-code-block",{staticClass:"codeblock",attrs:{language:"sh",base64:"YmxvZ2NsaSB0eCBzZW5kICQoYmxvZ2NsaSBrZXlzIHNob3cgdXNlcjEgLWEpIGNvc21vczE1Mmd6dTN2emY3Zzl0dTQ2dnN6Z3BhYzI0bHdyNDh2YzhrOGtraCAxMHRva2VuIC0tZnJvbT11c2VyMQo="}}),e._v(" "),c("p",[e._v("Notice that the sender address can be queried automatically using the sub-command "),c("code",[e._v("$(blogcli keys show user1 -a)")]),e._v(" with the flag "),c("code",[e._v("-a")]),e._v(" to show just the address and the receiver account address "),c("code",[e._v("cosmos152gzu3vzf7g9tu46vszgpac24lwr48vc8k8kkh")]),e._v(" is the one we have generated from the mnemonic.")]),e._v(" "),c("p",[e._v("In this guide we're activating accounts manually, but in production apps you might want to do it as part of a signing up process.")])],1)}),[],!1,null,null,null);t.default=s.exports}}]);