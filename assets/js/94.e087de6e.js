(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{821:function(t,s,e){"use strict";e.r(s);var n=e(1),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"events"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#events"}},[t._v("#")]),t._v(" Events")]),t._v(" "),e("HighlightBox",{attrs:{type:"synopsis"}},[e("p",[t._v("Let's dedicate some time to events in the Cosmos SDK. You should understand the concepts covered in the following sections before diving into events:")]),t._v(" "),e("ul",[e("li",[e("RouterLink",{attrs:{to:"/academy/2-main-concepts/transactions.html"}},[t._v("Transactions")])],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/academy/2-main-concepts/messages.html"}},[t._v("Messages")])],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/academy/2-main-concepts/modules.html"}},[t._v("Modules")])],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/academy/2-main-concepts/protobuf.html"}},[t._v("Protobuf")])],1)]),t._v(" "),e("p",[t._v("You can find some a code examples at the end of this section in which events are implemented in the checkers blockchain.")])]),t._v(" "),e("p",[t._v("An event is an object that contains information about the execution of applications. Events are used by service providers like block explorers and wallets to track the execution of various messages and index transactions.")]),t._v(" "),e("p",[t._v("Events are implemented as an alias of the ABCI "),e("code",[t._v("event")]),t._v(" type in the form "),e("code",[t._v("{eventType}.{attributeKey}={attributeValue}")]),t._v(" in the Cosmos SDK.")]),t._v(" "),e("p",[t._v("Events allow application developers to attach additional information. This means that transactions might be queried using events:")]),t._v(" "),e("div",{staticClass:"language-protobuf extra-class"},[e("pre",{pre:!0,attrs:{class:"language-protobuf"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Events allow application developers to attach additional information to")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ResponseBeginBlock, ResponseEndBlock, ResponseCheckTx and ResponseDeliverTx.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Later, transactions may be queried using these events.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Event")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v("                  type       "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("repeated")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token positional-class-name class-name"}},[t._v("EventAttribute")]),t._v(" attributes "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gogoproto"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nullable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("gogoproto"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jsontag"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"attributes,omitempty"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"structure"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#structure"}},[t._v("#")]),t._v(" Structure")]),t._v(" "),e("p",[t._v("Two elements stand out in the above:")]),t._v(" "),e("ul",[e("li",[t._v("A "),e("code",[t._v("type")]),t._v(" to categorize the event at a high level. For example, the Cosmos SDK uses the "),e("code",[t._v("message")]),t._v(" "),e("em",[t._v("type")]),t._v(" to filter events by "),e("code",[t._v("Msg")]),t._v(".")]),t._v(" "),e("li",[t._v("A list of "),e("code",[t._v("attributes")]),t._v(", which are key-value pairs giving more information on the categorized event. For example, we can filter events by key-value pairs using "),e("code",[t._v("message.action={some_action}, message.module={some_module}")]),t._v(" or "),e("code",[t._v("message.sender={a_sender}")]),t._v(" for the "),e("code",[t._v("message")]),t._v(" type.")])]),t._v(" "),e("HighlightBox",{attrs:{type:"info"}},[e("p",[t._v("Make sure to add "),e("code",[t._v("'")]),t._v(" (single quotes) around each attribute value to parse the attribute values as strings.")])]),t._v(" "),e("p",[t._v("Events, their type, and attributes are defined on a per-module basis in the module's "),e("code",[t._v("/types/events.go")]),t._v(" file. Each module additionally documents its events under "),e("code",[t._v("spec/xx_events.md")]),t._v(".")]),t._v(" "),e("p",[t._v("Events are returned to the underlying consensus engine in response to the following ABCI messages:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("BeginBlock")])]),t._v(" "),e("li",[e("code",[t._v("EndBlock")])]),t._v(" "),e("li",[e("code",[t._v("CheckTx")])]),t._v(" "),e("li",[e("code",[t._v("DeliverTx")])])]),t._v(" "),e("p",[t._v("Events are managed by an abstraction called the "),e("code",[t._v("EventManager")]),t._v(". Events are triggered from the module's Protobuf "),e("code",[t._v("Msg")]),t._v(" service with "),e("code",[t._v("EventManager")]),t._v(". Let's explore this abstraction further.")]),t._v(" "),e("h2",{attrs:{id:"eventmanager"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eventmanager"}},[t._v("#")]),t._v(" "),e("code",[t._v("EventManager")])]),t._v(" "),e("p",[e("code",[t._v("Eventmanager")]),t._v(" tracks a list of events for the entire execution flow of a transaction or "),e("code",[t._v("BeginBlock")]),t._v("/"),e("code",[t._v("EndBlock")]),t._v(". "),e("code",[t._v("EventManager")]),t._v(" implements a simple wrapper around a slice of event objects, which can be emitted from and provides useful methods. The most used method for Cosmos SDK module and application developers is "),e("code",[t._v("EmitEvent")]),t._v(".")]),t._v(" "),e("p",[t._v("Module developers should handle event emission via "),e("code",[t._v("EventManager#EmitEvent")]),t._v(" in each message handler and in each "),e("code",[t._v("BeginBlock")]),t._v(" or "),e("code",[t._v("EndBlock")]),t._v(" handler accessed via the "),e("code",[t._v("Context")]),t._v(". Event emission generally follows this pattern:")]),t._v(" "),e("div",{staticClass:"language-go extra-class"},[e("pre",{pre:!0,attrs:{class:"language-go"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("em "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("EventManager"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("EmitEvent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event Event"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    em"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("events "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" em"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("events"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("AppendEvent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Each module's handler function should also set a new "),e("code",[t._v("EventManager")]),t._v(" to the context to isolate emitted events per message:")]),t._v(" "),e("div",{staticClass:"language-go extra-class"},[e("pre",{pre:!0,attrs:{class:"language-go"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewHandler")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("keeper Keeper"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Handler "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Context"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" msg sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Msg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        ctx "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("WithEventManager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewEventManager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" msg "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" msg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// event types")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"subscribing-to-events"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#subscribing-to-events"}},[t._v("#")]),t._v(" Subscribing to events")]),t._v(" "),e("p",[t._v("You can use Tendermint's "),e("a",{attrs:{href:"https://docs.tendermint.com/master/tendermint-core/subscription.html#subscribing-to-events-via-websocket",target:"_blank",rel:"noopener noreferrer"}},[t._v("WebSocket"),e("OutboundLink")],1),t._v(" to subscribe to events by calling the "),e("code",[t._v("subscribe")]),t._v(" RPC method.")]),t._v(" "),e("p",[t._v("The main "),e("code",[t._v("eventCategories")]),t._v(" you can subscribe to are:")]),t._v(" "),e("ul",[e("li",[e("strong",[e("code",[t._v("NewBlock")]),t._v(".")]),t._v(" Contains events triggered during "),e("code",[t._v("BeginBlock")]),t._v(" and "),e("code",[t._v("EndBlock")]),t._v(".")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("Tx")]),t._v(".")]),t._v(" Contains events triggered during "),e("code",[t._v("DeliverTx")]),t._v(", the transaction processing.")]),t._v(" "),e("li",[e("strong",[e("code",[t._v("ValidatorSetUpdates")]),t._v(".")]),t._v(" Contains updates about the set of validators for the block.")])]),t._v(" "),e("HighlightBox",{attrs:{type:"info"}},[e("p",[t._v("You can find a full list of event categories in the "),e("a",{attrs:{href:"https://godoc.org/github.com/tendermint/tendermint/types#pkg-constants",target:"_blank",rel:"noopener noreferrer"}},[t._v("Tendermint Go documentation"),e("OutboundLink")],1),t._v(".")])]),t._v(" "),e("p",[t._v("You can filter for event types and attribute values. For example, a transfer transaction triggers an event of type "),e("code",[t._v("Transfer")]),t._v(" and has "),e("code",[t._v("Recipient")]),t._v(" and "),e("code",[t._v("Sender")]),t._v(" as attributes as defined in the "),e("code",[t._v("events.go")]),t._v(" file of the "),e("code",[t._v("bank")]),t._v(" module.")]),t._v(" "),e("h2",{attrs:{id:"next-up"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#next-up"}},[t._v("#")]),t._v(" Next up")]),t._v(" "),e("p",[t._v("You just learned about events, where they are expected, and how to emit or receive them. Have a look at the code samples below or head to the "),e("RouterLink",{attrs:{to:"/academy/2-main-concepts/context.html"}},[t._v("next section")]),t._v(" to learn about the "),e("code",[t._v("Context")]),t._v(" object.")],1),t._v(" "),e("ExpansionPanel",{attrs:{title:"Show me some code for my checkers blockchain"}},[e("p",[t._v("It would be good to document a game's lifecycle via events in your checkers blockchain.")]),t._v(" "),e("p",[t._v("For instance, you can emit a specific event such that when creating the game:")]),t._v(" "),e("div",{staticClass:"language-go extra-class"},[e("pre",{pre:!0,attrs:{class:"language-go"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ctx sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Context\nctx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("EventManager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("EmitEvent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewEvent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("EventTypeMessage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AttributeKeyModule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"checkers"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AttributeKeyAction"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NewGameCreated"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Creator"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" msg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Creator"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Index"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newIndex"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Red"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" msg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Red"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Black"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" msg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Black"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Wager"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" strconv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("FormatUint")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Wager"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Token"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" msg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Token"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("It is easy to add events to the other transaction types. Keep in mind that events are meant to inform and notify relevant parties.")]),t._v(" "),e("p",[t._v("You should also emit an event for games that have timed out. This is part of their lifecycle after all. You would do that in the end blocker:")]),t._v(" "),e("div",{staticClass:"language-go extra-class"},[e("pre",{pre:!0,attrs:{class:"language-go"}},[e("code",[t._v("ctx"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("EventManager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("EmitEvent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewEvent")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("EventTypeMessage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AttributeKeyModule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"checkers"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AttributeKeyAction"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GameForfeited"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"IdValue"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" storedGameId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sdk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewAttribute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Winner"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rules"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("NO_PLAYER"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Color"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Or the rightful winner.")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])],1)}),[],!1,null,null,null);s.default=a.exports}}]);