(window.webpackJsonp=window.webpackJsonp||[]).push([[154],{783:function(t,e,s){"use strict";s.r(e);var a=s(1),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"types"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#types"}},[t._v("#")]),t._v(" Types")]),t._v(" "),s("p",[t._v("First thing we're going to do is create a type in the "),s("code",[t._v("/x/nameservice")]),t._v(" folder with the "),s("code",[t._v("starport")]),t._v(" tool using the below command:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("starport "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" whois value price\n")])])]),s("p",[t._v("Currently, we're only passing two values when scaffolding the "),s("code",[t._v("whois")]),t._v(" type, because there are additional fields that we will be replacing. In all uses of "),s("code",[t._v("whois")]),t._v(", we'll be removing the auto-generated "),s("code",[t._v("ID")]),t._v(" field and replacing the "),s("code",[t._v("Creator")]),t._v(" field with "),s("code",[t._v("Owner")]),t._v(" to reflect ownership of the name.")]),t._v(" "),s("h2",{attrs:{id:"types-go"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#types-go"}},[t._v("#")]),t._v(" "),s("code",[t._v("types.go")])]),t._v(" "),s("p",[t._v("Now we can continue with creating a module. The "),s("code",[t._v("./x/nameservice/types")]),t._v(" folder will hold custom types for the module, and you should see a few files that have already been scaffolded, including "),s("code",[t._v("MsgCreateWhois.go")]),t._v(", "),s("code",[t._v("MsgDeleteWhois.go")]),t._v(", "),s("code",[t._v("MsgSetWhois.go")]),t._v(", and "),s("code",[t._v("TypeWhois.go")]),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"whois"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#whois"}},[t._v("#")]),t._v(" Whois")]),t._v(" "),s("p",[t._v("Each name will have three pieces of data associated with it.")]),t._v(" "),s("ul",[s("li",[t._v("Value - The value that a name resolves to. This is just an arbitrary string, but in the future you can modify this to require it fitting a specific format, such as an IP address, DNS Zone file, or blockchain address.")]),t._v(" "),s("li",[t._v("Owner - The address of the current owner of the name")]),t._v(" "),s("li",[t._v("Price - The price you will need to pay in order to buy the name")])]),t._v(" "),s("p",[t._v("To start your SDK module, define your "),s("code",[t._v("nameservice.Whois")]),t._v(" struct in the "),s("code",[t._v("./x/nameservice/types/TypeWhois.go")]),t._v(" file:")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" types\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tsdk "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github.com/cosmos/cosmos-sdk/types"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" MinNamePrice "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sdk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Coins"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("sdk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewInt64Coin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nametoken"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Whois "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tCreator sdk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AccAddress "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"creator" yaml:"creator"`')]),t._v("\n\tID      "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"id" yaml:"id"`')]),t._v("\n\tValue   "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"value" yaml:"value"`')]),t._v("\n\tPrice   sdk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Coins      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`json:"price" yaml:"price"`')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// NewWhois returns a new Whois with the minprice as the price")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NewWhois")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Whois "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Whois"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" MinNamePrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("As mentioned in the "),s("RouterLink",{attrs:{to:"/nameservice/tutorial/01-app-design.html"}},[t._v("Design doc")]),t._v(", if a name does not already have an owner, we want to initialize it with some MinPrice.")],1)])}),[],!1,null,null,null);e.default=n.exports}}]);