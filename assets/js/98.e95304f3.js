(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{649:function(e,t,o){"use strict";o.r(t);var a=o(0),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"start-your-application"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#start-your-application"}},[e._v("#")]),e._v(" Start your application")]),e._v(" "),o("p",[e._v("Get started by creating a new app, we will be using the lvl-1 app which is provided by the scaffold tool.")]),e._v(" "),o("p",[e._v("You can fill in "),o("code",[e._v("user")]),e._v(" with your Github username and "),o("code",[e._v("repo")]),e._v(" with the name of the repo you are creating.")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3RhcnBvcnQgYXBwIGdpdGh1Yi5jb20vdXNlci9uYW1lc2VydmljZSAtLXNkay12ZXJzaW9uPSZxdW90O2xhdW5jaHBhZCZxdW90OwpjZCBuYW1lc2VydmljZQo="}}),e._v(" "),o("h2",{attrs:{id:"overview"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),o("p",[e._v("In "),o("code",[e._v("app.go")]),e._v(" it is defined what the application does when it receives a transaction. But first, it needs to be able to receive transactions in the correct order. This is the role of the "),o("a",{attrs:{href:"https://github.com/tendermint/tendermint",target:"_blank",rel:"noopener noreferrer"}},[e._v("Tendermint consensus engine"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("p",[e._v("Links to godocs for each module and package imported:")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://godoc.org/github.com/tendermint/tendermint/libs/log",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("log")]),o("OutboundLink")],1),e._v(": Tendermint's logger.")]),e._v(" "),o("li",[o("a",{attrs:{href:"https://godoc.org/github.com/cosmos/cosmos-sdk/x/auth",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("auth")]),o("OutboundLink")],1),e._v(": The "),o("code",[e._v("auth")]),e._v(" module for the Cosmos SDK.")]),e._v(" "),o("li",[o("a",{attrs:{href:"https://godoc.org/github.com/tendermint/tm-db",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("dbm")]),o("OutboundLink")],1),e._v(": Code for working with the Tendermint database.")]),e._v(" "),o("li",[o("a",{attrs:{href:"https://godoc.org/github.com/cosmos/cosmos-sdk/baseapp",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("baseapp")]),o("OutboundLink")],1),e._v(": See below")])]),e._v(" "),o("p",[e._v("A couple of the packages here are "),o("code",[e._v("tendermint")]),e._v(" packages. Tendermint passes transactions from the network to the application through an interface called the "),o("a",{attrs:{href:"https://docs.tendermint.com/master/spec/abci/",target:"_blank",rel:"noopener noreferrer"}},[e._v("ABCI"),o("OutboundLink")],1),e._v(". If you look at the architecture of the blockchain node you are building, it looks like the following:")]),e._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"Ky0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKfCAgICAgICAgICAgICAgICAgICAgIHwKfCAgICAgQXBwbGljYXRpb24gICAgIHwKfCAgICAgICAgICAgICAgICAgICAgIHwKKy0tLS0tLS0tKy0tLSstLS0tLS0tLSsKICAgICAgICAgXiAgIHwKICAgICAgICAgfCAgIHwgQUJDSQogICAgICAgICB8ICAgdgorLS0tLS0tLS0rLS0tKy0tLS0tLS0tKwp8ICAgICAgICAgICAgICAgICAgICAgfAp8ICAgICAgICAgICAgICAgICAgICAgfAp8ICAgICBUZW5kZXJtaW50ICAgICAgfAp8ICAgICAgICAgICAgICAgICAgICAgfAp8ICAgICAgICAgICAgICAgICAgICAgfAorLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwo="}}),e._v(" "),o("p",[e._v("Fortunately, you do not have to implement the ABCI interface. The Cosmos SDK provides a boilerplate implementation of it in the form of "),o("a",{attrs:{href:"https://godoc.org/github.com/cosmos/cosmos-sdk/baseapp",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("baseapp")]),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("p",[e._v("Here is what "),o("code",[e._v("baseapp")]),e._v(" does:")]),e._v(" "),o("ul",[o("li",[e._v("Decode transactions received from the Tendermint consensus engine.")]),e._v(" "),o("li",[e._v("Extract messages from transactions and do basic sanity checks.")]),e._v(" "),o("li",[e._v("Route the message to the appropriate module so that it can be processed. Note that "),o("code",[e._v("baseapp")]),e._v(" has no knowledge of the specific modules you want to use. It is your job to declare such modules in "),o("code",[e._v("app.go")]),e._v(", as you will see later in this tutorial. "),o("code",[e._v("baseapp")]),e._v(" only implements the core routing logic that can be applied to any module.")]),e._v(" "),o("li",[e._v("Commit if the ABCI message is "),o("a",{attrs:{href:"https://docs.tendermint.com/master/spec/abci/abci.html#delivertx",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("DeliverTx")]),o("OutboundLink")],1),e._v(" ("),o("a",{attrs:{href:"https://docs.tendermint.com/master/spec/abci/abci.html#checktx",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("CheckTx")]),o("OutboundLink")],1),e._v(" changes are not persistent).")]),e._v(" "),o("li",[e._v("Help set up "),o("a",{attrs:{href:"https://docs.tendermint.com/master/spec/abci/abci.html#beginblock",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("BeginBlock")]),o("OutboundLink")],1),e._v(" and "),o("a",{attrs:{href:"https://docs.tendermint.com/master/spec/abci/abci.html#endblock",target:"_blank",rel:"noopener noreferrer"}},[o("code",[e._v("Endblock")]),o("OutboundLink")],1),e._v(", two messages that enable you to define logic executed at the beginning and end of each block. In practice, each module implements its own "),o("code",[e._v("BeginBlock")]),e._v(" and "),o("code",[e._v("EndBlock")]),e._v(" sub-logic, and the role of the app is to aggregate everything together ("),o("em",[e._v("Note: you won't be using these messages in your application")]),e._v(").")]),e._v(" "),o("li",[e._v("Help initialize your state.")]),e._v(" "),o("li",[e._v("Help set up queries.")])]),e._v(" "),o("p",[e._v("Now you need to rename the "),o("code",[e._v("appName")]),e._v(" & "),o("code",[e._v("NewApp")]),e._v(" types to the name of your app. In this case you can use "),o("code",[e._v("nameservice")]),e._v(" & "),o("code",[e._v("NameServiceApp")]),e._v(". This type will embed "),o("code",[e._v("baseapp")]),e._v(" (embedding in Go similar to inheritance in other languages), meaning it will have access to all of "),o("code",[e._v("baseapp")]),e._v("'s methods.")]),e._v(" "),o("p",[e._v("Great! You now have the start of your application. Currently you have a working blockchain, but we will customize it throughout this tutorial.")]),e._v(" "),o("p",[o("code",[e._v("baseapp")]),e._v(" has no knowledge of the routes or user interactions you want to use in your application. The primary role of your application is to define these routes. Another role is to define the initial state. Both these things require that you add modules to your application.")]),e._v(" "),o("h2",{attrs:{id:"running-your-application"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#running-your-application"}},[e._v("#")]),e._v(" Running your application")]),e._v(" "),o("p",[e._v("As you have seen in the "),o("RouterLink",{attrs:{to:"/nameservice/tutorial/app-design.html"}},[e._v("application design")]),e._v(" section, you need a few modules for your nameservice: "),o("code",[e._v("auth")]),e._v(", "),o("code",[e._v("bank")]),e._v(", "),o("code",[e._v("staking")]),e._v(", "),o("code",[e._v("distribution")]),e._v(", "),o("code",[e._v("slashing")]),e._v(" and "),o("code",[e._v("nameservice")]),e._v(". The first five already exist, but not the last! The "),o("code",[e._v("nameservice")]),e._v(" module will define the bulk of your state machine. The next step is to build it.")],1),e._v(" "),o("h3",{attrs:{id:"in-order-to-complete-your-application-you-need-to-include-modules-go-ahead-and-start-building-your-nameservice-module-you-will-come-back-to-app-go-later"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#in-order-to-complete-your-application-you-need-to-include-modules-go-ahead-and-start-building-your-nameservice-module-you-will-come-back-to-app-go-later"}},[e._v("#")]),e._v(" In order to complete your application, you need to include modules. Go ahead and start building your nameservice module. You will come back to "),o("code",[e._v("app.go")]),e._v(" later.")])],1)}),[],!1,null,null,null);t.default=r.exports}}]);