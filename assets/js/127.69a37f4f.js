(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{623:function(c,d,l){"use strict";l.r(d);var Z=l(0),b=Object(Z.a)({},(function(){var c=this,d=c.$createElement,l=c._self._c||d;return l("ContentSlotsDistributor",{attrs:{"slot-key":c.$parent.slotKey}},[l("h1",{attrs:{id:"messages"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#messages"}},[c._v("#")]),c._v(" Messages")]),c._v(" "),l("p",[c._v("Messages are a great place to start when building a module because they define the actions that your application can make. Think of all the scenarios where a user would be able to update the state of the application in any way. These should be boiled down into basic interactions, similar to "),l("strong",[c._v("CRUD")]),c._v(" (Create, Read, Update, Delete).")]),c._v(" "),l("p",[c._v("Let's start with "),l("strong",[c._v("Create")]),c._v(".")]),c._v(" "),l("h2",{attrs:{id:"msgcreatescavenge"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#msgcreatescavenge"}},[c._v("#")]),c._v(" MsgCreateScavenge")]),c._v(" "),l("p",[c._v("Messages are "),l("code",[c._v("types")]),c._v(" which live inside the "),l("code",[c._v("./x/scavenge/types/")]),c._v(" directory. You can see the "),l("code",[c._v("type")]),c._v(" command has already scaffolded a "),l("code",[c._v("MsgCreateScavenge.go")]),c._v(" file.")]),c._v(" "),l("p",[c._v("Inside this new file we will be removing some of the fields that won't be used when creating the scavenge, until it looks like this:")]),c._v(" "),l("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSB0eXBlcwoKaW1wb3J0ICgKCXNkayAmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3R5cGVzJnF1b3Q7CglzZGtlcnJvcnMgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay90eXBlcy9lcnJvcnMmcXVvdDsKKQoKdmFyIF8gc2RrLk1zZyA9ICZhbXA7TXNnQ3JlYXRlU2NhdmVuZ2V7fQoKdHlwZSBNc2dDcmVhdGVTY2F2ZW5nZSBzdHJ1Y3QgewoJQ3JlYXRvciAgICAgIHNkay5BY2NBZGRyZXNzIGBqc29uOiZxdW90O2NyZWF0b3ImcXVvdDsgeWFtbDomcXVvdDtjcmVhdG9yJnF1b3Q7YAoJRGVzY3JpcHRpb24gIHN0cmluZyAgICAgICAgIGBqc29uOiZxdW90O2Rlc2NyaXB0aW9uJnF1b3Q7IHlhbWw6JnF1b3Q7ZGVzY3JpcHRpb24mcXVvdDtgCglTb2x1dGlvbkhhc2ggc3RyaW5nICAgICAgICAgYGpzb246JnF1b3Q7c29sdXRpb25IYXNoJnF1b3Q7IHlhbWw6JnF1b3Q7c29sdXRpb25IYXNoJnF1b3Q7YAoJUmV3YXJkICAgICAgIHNkay5Db2lucyAgICAgIGBqc29uOiZxdW90O3Jld2FyZCZxdW90OyB5YW1sOiZxdW90O3Jld2FyZCZxdW90O2AKfQoKZnVuYyBOZXdNc2dDcmVhdGVTY2F2ZW5nZShjcmVhdG9yIHNkay5BY2NBZGRyZXNzLCBkZXNjcmlwdGlvbiBzdHJpbmcsIHNvbHV0aW9uSGFzaCBzdHJpbmcsIHJld2FyZCBzZGsuQ29pbnMpIE1zZ0NyZWF0ZVNjYXZlbmdlIHsKCXJldHVybiBNc2dDcmVhdGVTY2F2ZW5nZXsKCQlDcmVhdG9yOiAgICAgIGNyZWF0b3IsCgkJRGVzY3JpcHRpb246ICBkZXNjcmlwdGlvbiwKCQlTb2x1dGlvbkhhc2g6IHNvbHV0aW9uSGFzaCwKCQlSZXdhcmQ6ICAgICAgIHJld2FyZCwKCX0KfQoKZnVuYyAobXNnIE1zZ0NyZWF0ZVNjYXZlbmdlKSBSb3V0ZSgpIHN0cmluZyB7CglyZXR1cm4gUm91dGVyS2V5Cn0KCmZ1bmMgKG1zZyBNc2dDcmVhdGVTY2F2ZW5nZSkgVHlwZSgpIHN0cmluZyB7CglyZXR1cm4gJnF1b3Q7Q3JlYXRlU2NhdmVuZ2UmcXVvdDsKfQoKZnVuYyAobXNnIE1zZ0NyZWF0ZVNjYXZlbmdlKSBHZXRTaWduZXJzKCkgW11zZGsuQWNjQWRkcmVzcyB7CglyZXR1cm4gW11zZGsuQWNjQWRkcmVzc3tzZGsuQWNjQWRkcmVzcyhtc2cuQ3JlYXRvcil9Cn0KCmZ1bmMgKG1zZyBNc2dDcmVhdGVTY2F2ZW5nZSkgR2V0U2lnbkJ5dGVzKCkgW11ieXRlIHsKCWJ6IDo9IE1vZHVsZUNkYy5NdXN0TWFyc2hhbEpTT04obXNnKQoJcmV0dXJuIHNkay5NdXN0U29ydEpTT04oYnopCn0KCmZ1bmMgKG1zZyBNc2dDcmVhdGVTY2F2ZW5nZSkgVmFsaWRhdGVCYXNpYygpIGVycm9yIHsKCWlmIG1zZy5DcmVhdG9yLkVtcHR5KCkgewoJCXJldHVybiBzZGtlcnJvcnMuV3JhcChzZGtlcnJvcnMuRXJySW52YWxpZEFkZHJlc3MsICZxdW90O2NyZWF0b3IgY2FuJ3QgYmUgZW1wdHkmcXVvdDspCgl9CglpZiBtc2cuU29sdXRpb25IYXNoID09ICZxdW90OyZxdW90OyB7CgkJcmV0dXJuIHNka2Vycm9ycy5XcmFwKHNka2Vycm9ycy5FcnJJbnZhbGlkUmVxdWVzdCwgJnF1b3Q7c29sdXRpb25IYXNoIGNhbid0IGJlIGVtcHR5JnF1b3Q7KQoJfQoJcmV0dXJuIG5pbAp9Cg=="}}),c._v(" "),l("p",[c._v("Notice that all Messages in the app need to follow the "),l("code",[c._v("sdk.Msg")]),c._v(" interface. The Message "),l("code",[c._v("struct")]),c._v(" contains all the necessary information when creating a new scavenge:")]),c._v(" "),l("ul",[l("li",[l("code",[c._v("Creator")]),c._v(" - Who created it. This uses the "),l("code",[c._v("sdk.AccAddress")]),c._v(" type which represents an account in the app controlled by public key cryptograhy.")]),c._v(" "),l("li",[l("code",[c._v("Description")]),c._v(" - The question to be solved or description of the challenge.")]),c._v(" "),l("li",[l("code",[c._v("SolutionHash")]),c._v(" - The scrambled solution.")]),c._v(" "),l("li",[l("code",[c._v("Reward")]),c._v(" - This is the bounty that is awarded to whoever submits the answer first.")])]),c._v(" "),l("p",[c._v("The "),l("code",[c._v("Msg")]),c._v(" interface requires some other methods be set, like validating the content of the "),l("code",[c._v("struct")]),c._v(", and confirming the msg was signed and submitted by the Creator.")]),c._v(" "),l("p",[c._v("Now that one can create a scavenge the only other essential action is to be able to solve it. This should be broken into two separate actions as described before: "),l("code",[c._v("MsgCommitSolution")]),c._v(" and "),l("code",[c._v("MsgRevealSolution")]),c._v(".")]),c._v(" "),l("h2",{attrs:{id:"msgcommitsolution"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#msgcommitsolution"}},[c._v("#")]),c._v(" MsgCommitSolution")]),c._v(" "),l("p",[c._v("Rename our "),l("code",[c._v("./x/scavenge/types/MsgCreateCommit.go")]),c._v(" to "),l("code",[c._v("./x/scavenge/types/MsgCommitSolution.go")]),c._v(".")]),c._v(" "),l("p",[c._v("Replace functions parameters to reflect "),l("code",[c._v("MsgCommitSolution")]),c._v(" instead of previous "),l("code",[c._v("MsgCreateCommit")]),c._v(".")]),c._v(" "),l("p",[c._v("The message type that describes how to commit a solution should live in "),l("code",[c._v("./x/scavenge/types/MsgCommitSolution.go")]),c._v(" and look like:")]),c._v(" "),l("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSB0eXBlcwoKaW1wb3J0ICgKCXNkayAmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3R5cGVzJnF1b3Q7CglzZGtlcnJvcnMgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay90eXBlcy9lcnJvcnMmcXVvdDsKKQoKdmFyIF8gc2RrLk1zZyA9ICZhbXA7TXNnQ29tbWl0U29sdXRpb257fQoKdHlwZSBNc2dDb21taXRTb2x1dGlvbiBzdHJ1Y3QgewoJU2NhdmVuZ2VyICAgICAgICAgICAgIHNkay5BY2NBZGRyZXNzIGBqc29uOiZxdW90O3NjYXZlbmdlciZxdW90OyB5YW1sOiZxdW90O3NjYXZlbmdlciZxdW90O2AgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkcmVzcyBvZiB0aGUgc2NhdmVuZ2VyCglTb2x1dGlvbkhhc2ggICAgICAgICAgc3RyaW5nICAgICAgICAgYGpzb246JnF1b3Q7c29sdXRpb25oYXNoJnF1b3Q7IHlhbWw6JnF1b3Q7c29sdXRpb25oYXNoJnF1b3Q7YCAgICAgICAgICAgICAgICAgICAvLyBzb2x1dGlvbmhhc2ggb2YgdGhlIHNjYXZlbmdlCglTb2x1dGlvblNjYXZlbmdlckhhc2ggc3RyaW5nICAgICAgICAgYGpzb246JnF1b3Q7c29sdXRpb25TY2F2ZW5nZXJIYXNoJnF1b3Q7IHlhbWw6JnF1b3Q7c29sdXRpb25TY2F2ZW5nZXJIYXNoJnF1b3Q7YCAvLyBzb2x1dGlvbiBoYXNoIG9mIHRoZSBzY2F2ZW5nZQp9CgovLyBOZXdNc2dDb21taXRTb2x1dGlvbiBjcmVhdGVzIGEgbmV3IE1zZ0NvbW1pdFNvbHV0aW9uIGluc3RhbmNlCmZ1bmMgTmV3TXNnQ29tbWl0U29sdXRpb24oc2NhdmVuZ2VyIHNkay5BY2NBZGRyZXNzLCBzb2x1dGlvbkhhc2ggc3RyaW5nLCBzb2x1dGlvblNjYXZlbmdlckhhc2ggc3RyaW5nKSBNc2dDb21taXRTb2x1dGlvbiB7CglyZXR1cm4gTXNnQ29tbWl0U29sdXRpb257CgkJU2NhdmVuZ2VyOiAgICAgICAgICAgICBzY2F2ZW5nZXIsCgkJU29sdXRpb25IYXNoOiAgICAgICAgICBzb2x1dGlvbkhhc2gsCgkJU29sdXRpb25TY2F2ZW5nZXJIYXNoOiBzb2x1dGlvblNjYXZlbmdlckhhc2gsCgl9Cn0KCmZ1bmMgKG1zZyBNc2dDb21taXRTb2x1dGlvbikgUm91dGUoKSBzdHJpbmcgewoJcmV0dXJuIFJvdXRlcktleQp9CgpmdW5jIChtc2cgTXNnQ29tbWl0U29sdXRpb24pIFR5cGUoKSBzdHJpbmcgewoJcmV0dXJuICZxdW90O0NyZWF0ZUNvbW1pdCZxdW90Owp9CgpmdW5jIChtc2cgTXNnQ29tbWl0U29sdXRpb24pIEdldFNpZ25lcnMoKSBbXXNkay5BY2NBZGRyZXNzIHsKCXJldHVybiBbXXNkay5BY2NBZGRyZXNze3Nkay5BY2NBZGRyZXNzKG1zZy5TY2F2ZW5nZXIpfQp9CgpmdW5jIChtc2cgTXNnQ29tbWl0U29sdXRpb24pIEdldFNpZ25CeXRlcygpIFtdYnl0ZSB7CglieiA6PSBNb2R1bGVDZGMuTXVzdE1hcnNoYWxKU09OKG1zZykKCXJldHVybiBzZGsuTXVzdFNvcnRKU09OKGJ6KQp9CgpmdW5jIChtc2cgTXNnQ29tbWl0U29sdXRpb24pIFZhbGlkYXRlQmFzaWMoKSBlcnJvciB7CglpZiBtc2cuU2NhdmVuZ2VyLkVtcHR5KCkgewoJCXJldHVybiBzZGtlcnJvcnMuV3JhcChzZGtlcnJvcnMuRXJySW52YWxpZEFkZHJlc3MsICZxdW90O3NjYXZlbmdlciBjYW4ndCBiZSBlbXB0eSZxdW90OykKCX0KCXJldHVybiBuaWwKfQo="}}),c._v(" "),l("p",[c._v("The Message "),l("code",[c._v("struct")]),c._v(" contains all the necessary information when revealing a solution:")]),c._v(" "),l("ul",[l("li",[l("code",[c._v("Scavenger")]),c._v(" - Who is revealing the solution.")]),c._v(" "),l("li",[l("code",[c._v("SolutionHash")]),c._v(" - The scrambled solution (hash).")]),c._v(" "),l("li",[l("code",[c._v("SolutionScavengerHash")]),c._v(" - That is the hashed combination of the solution and the person who solved it.")])]),c._v(" "),l("p",[c._v("This message also fulfils the "),l("code",[c._v("sdk.Msg")]),c._v(" interface.")]),c._v(" "),l("h2",{attrs:{id:"msgrevealsolution"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#msgrevealsolution"}},[c._v("#")]),c._v(" MsgRevealSolution")]),c._v(" "),l("p",[c._v("This message type should live in "),l("code",[c._v("./x/scavenge/types/MsgRevealSolution.go")]),c._v(" and look like:")]),c._v(" "),l("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSB0eXBlcwoKaW1wb3J0ICgKCSZxdW90O2NyeXB0by9zaGEyNTYmcXVvdDsKCSZxdW90O2VuY29kaW5nL2hleCZxdW90OwoJJnF1b3Q7Zm10JnF1b3Q7CgoJc2RrICZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvdHlwZXMmcXVvdDsKCXNka2Vycm9ycyAmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3R5cGVzL2Vycm9ycyZxdW90OwopCgovLyBNc2dSZXZlYWxTb2x1dGlvbgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KdmFyIF8gc2RrLk1zZyA9ICZhbXA7TXNnUmV2ZWFsU29sdXRpb257fQoKLy8gTXNnUmV2ZWFsU29sdXRpb24gLSBzdHJ1Y3QgZm9yIHVuamFpbGluZyBqYWlsZWQgdmFsaWRhdG9yCnR5cGUgTXNnUmV2ZWFsU29sdXRpb24gc3RydWN0IHsKCVNjYXZlbmdlciAgICBzZGsuQWNjQWRkcmVzcyBganNvbjomcXVvdDtzY2F2ZW5nZXImcXVvdDsgeWFtbDomcXVvdDtzY2F2ZW5nZXImcXVvdDtgICAgICAgIC8vIGFkZHJlc3Mgb2YgdGhlIHNjYXZlbmdlciBzY2F2ZW5nZXIKCVNvbHV0aW9uSGFzaCBzdHJpbmcgICAgICAgICBganNvbjomcXVvdDtzb2x1dGlvbkhhc2gmcXVvdDsgeWFtbDomcXVvdDtzb2x1dGlvbkhhc2gmcXVvdDtgIC8vIFNvbHV0aW9uSGFzaCBvZiB0aGUgc2NhdmVuZ2UKCVNvbHV0aW9uICAgICBzdHJpbmcgICAgICAgICBganNvbjomcXVvdDtzb2x1dGlvbiZxdW90OyB5YW1sOiZxdW90O3NvbHV0aW9uJnF1b3Q7YCAgICAgICAgIC8vIHNvbHV0aW9uIG9mIHRoZSBzY2F2ZW5nZQp9CgovLyBOZXdNc2dSZXZlYWxTb2x1dGlvbiBjcmVhdGVzIGEgbmV3IE1zZ1JldmVhbFNvbHV0aW9uIGluc3RhbmNlCmZ1bmMgTmV3TXNnUmV2ZWFsU29sdXRpb24oc2NhdmVuZ2VyIHNkay5BY2NBZGRyZXNzLCBzb2x1dGlvbiBzdHJpbmcpIE1zZ1JldmVhbFNvbHV0aW9uIHsKCgl2YXIgc29sdXRpb25IYXNoID0gc2hhMjU2LlN1bTI1NihbXWJ5dGUoc29sdXRpb24pKQoJdmFyIHNvbHV0aW9uSGFzaFN0cmluZyA9IGhleC5FbmNvZGVUb1N0cmluZyhzb2x1dGlvbkhhc2hbOl0pCgoJcmV0dXJuIE1zZ1JldmVhbFNvbHV0aW9uewoJCVNjYXZlbmdlcjogICAgc2NhdmVuZ2VyLAoJCVNvbHV0aW9uSGFzaDogc29sdXRpb25IYXNoU3RyaW5nLAoJCVNvbHV0aW9uOiAgICAgc29sdXRpb24sCgl9Cn0KCi8vIFJldmVhbFNvbHV0aW9uQ29uc3QgaXMgUmV2ZWFsU29sdXRpb24gQ29uc3RhbnQKY29uc3QgUmV2ZWFsU29sdXRpb25Db25zdCA9ICZxdW90O1JldmVhbFNvbHV0aW9uJnF1b3Q7CgovLyBub2xpbnQKZnVuYyAobXNnIE1zZ1JldmVhbFNvbHV0aW9uKSBSb3V0ZSgpIHN0cmluZyB7IHJldHVybiBSb3V0ZXJLZXkgfQpmdW5jIChtc2cgTXNnUmV2ZWFsU29sdXRpb24pIFR5cGUoKSBzdHJpbmcgIHsgcmV0dXJuIFJldmVhbFNvbHV0aW9uQ29uc3QgfQpmdW5jIChtc2cgTXNnUmV2ZWFsU29sdXRpb24pIEdldFNpZ25lcnMoKSBbXXNkay5BY2NBZGRyZXNzIHsKCXJldHVybiBbXXNkay5BY2NBZGRyZXNze3Nkay5BY2NBZGRyZXNzKG1zZy5TY2F2ZW5nZXIpfQp9CgovLyBHZXRTaWduQnl0ZXMgZ2V0cyB0aGUgYnl0ZXMgZm9yIHRoZSBtZXNzYWdlIHNpZ25lciB0byBzaWduIG9uCmZ1bmMgKG1zZyBNc2dSZXZlYWxTb2x1dGlvbikgR2V0U2lnbkJ5dGVzKCkgW11ieXRlIHsKCWJ6IDo9IE1vZHVsZUNkYy5NdXN0TWFyc2hhbEpTT04obXNnKQoJcmV0dXJuIHNkay5NdXN0U29ydEpTT04oYnopCn0KCi8vIFZhbGlkYXRlQmFzaWMgdmFsaWRpdHkgY2hlY2sgZm9yIHRoZSBBbnRlSGFuZGxlcgpmdW5jIChtc2cgTXNnUmV2ZWFsU29sdXRpb24pIFZhbGlkYXRlQmFzaWMoKSBlcnJvciB7CglpZiBtc2cuU2NhdmVuZ2VyLkVtcHR5KCkgewoJCXJldHVybiBzZGtlcnJvcnMuV3JhcChzZGtlcnJvcnMuRXJySW52YWxpZEFkZHJlc3MsICZxdW90O3NjYXZlbmdlciBjYW4ndCBiZSBlbXB0eSZxdW90OykKCX0KCWlmIG1zZy5Tb2x1dGlvbkhhc2ggPT0gJnF1b3Q7JnF1b3Q7IHsKCQlyZXR1cm4gc2RrZXJyb3JzLldyYXAoc2RrZXJyb3JzLkVyckludmFsaWRSZXF1ZXN0LCAmcXVvdDtzb2x1dGlvblNjYXZlbmdlckhhc2ggY2FuJ3QgYmUgZW1wdHkmcXVvdDspCgl9CglpZiBtc2cuU29sdXRpb24gPT0gJnF1b3Q7JnF1b3Q7IHsKCQlyZXR1cm4gc2RrZXJyb3JzLldyYXAoc2RrZXJyb3JzLkVyckludmFsaWRSZXF1ZXN0LCAmcXVvdDtzb2x1dGlvbkhhc2ggY2FuJ3QgYmUgZW1wdHkmcXVvdDspCgl9CgoJdmFyIHNvbHV0aW9uSGFzaCA9IHNoYTI1Ni5TdW0yNTYoW11ieXRlKG1zZy5Tb2x1dGlvbikpCgl2YXIgc29sdXRpb25IYXNoU3RyaW5nID0gaGV4LkVuY29kZVRvU3RyaW5nKHNvbHV0aW9uSGFzaFs6XSkKCglpZiBtc2cuU29sdXRpb25IYXNoICE9IHNvbHV0aW9uSGFzaFN0cmluZyB7CgkJcmV0dXJuIHNka2Vycm9ycy5XcmFwKHNka2Vycm9ycy5FcnJJbnZhbGlkUmVxdWVzdCwgZm10LlNwcmludGYoJnF1b3Q7SGFzaCBvZiBzb2x1dGlvbiAoJXMpIGRvZXNuJ3QgZXF1YWwgc29sdXRpb25IYXNoICglcykmcXVvdDssIG1zZy5Tb2x1dGlvbkhhc2gsIHNvbHV0aW9uSGFzaFN0cmluZykpCgl9CglyZXR1cm4gbmlsCn0K"}}),c._v(" "),l("p",[c._v("The Message "),l("code",[c._v("struct")]),c._v(" contains all the necessary information when revealing a solution:")]),c._v(" "),l("ul",[l("li",[l("code",[c._v("Scavenger")]),c._v(" - Who is revealing the solution.")]),c._v(" "),l("li",[l("code",[c._v("SolutionHash")]),c._v(" - The scrambled solution.")]),c._v(" "),l("li",[l("code",[c._v("Solution")]),c._v(" - The plain text version of the solution.")])]),c._v(" "),l("p",[c._v("This message also fulfils the "),l("code",[c._v("sdk.Msg")]),c._v(" interface.")]),c._v(" "),l("p",[c._v("Especially look into the "),l("code",[c._v("ValidateBasic")]),c._v(" function. It validates if all the necessary inputs are made to reveal a solution and creates the sha256 hash out of the submitted solution.")]),c._v(" "),l("h2",{attrs:{id:"msgsetscavenge"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#msgsetscavenge"}},[c._v("#")]),c._v(" MsgSetScavenge")]),c._v(" "),l("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSB0eXBlcwoKaW1wb3J0ICgKCXNkayAmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3R5cGVzJnF1b3Q7CglzZGtlcnJvcnMgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay90eXBlcy9lcnJvcnMmcXVvdDsKKQoKdmFyIF8gc2RrLk1zZyA9ICZhbXA7TXNnU2V0U2NhdmVuZ2V7fQoKdHlwZSBNc2dTZXRTY2F2ZW5nZSBzdHJ1Y3QgewoJQ3JlYXRvciAgICAgIHNkay5BY2NBZGRyZXNzIGBqc29uOiZxdW90O2NyZWF0b3ImcXVvdDsgeWFtbDomcXVvdDtjcmVhdG9yJnF1b3Q7YAoJRGVzY3JpcHRpb24gIHN0cmluZyAgICAgICAgIGBqc29uOiZxdW90O2Rlc2NyaXB0aW9uJnF1b3Q7IHlhbWw6JnF1b3Q7ZGVzY3JpcHRpb24mcXVvdDtgCglTb2x1dGlvbkhhc2ggc3RyaW5nICAgICAgICAgYGpzb246JnF1b3Q7c29sdXRpb25IYXNoJnF1b3Q7IHlhbWw6JnF1b3Q7c29sdXRpb25IYXNoJnF1b3Q7YAoJUmV3YXJkICAgICAgIHN0cmluZyAgICAgICAgIGBqc29uOiZxdW90O3Jld2FyZCZxdW90OyB5YW1sOiZxdW90O3Jld2FyZCZxdW90O2AKCVNvbHV0aW9uICAgICBzdHJpbmcgICAgICAgICBganNvbjomcXVvdDtzb2x1dGlvbiZxdW90OyB5YW1sOiZxdW90O3NvbHV0aW9uJnF1b3Q7YAoJU2NhdmVuZ2VyICAgIHNkay5BY2NBZGRyZXNzIGBqc29uOiZxdW90O3NjYXZlbmdlciZxdW90OyB5YW1sOiZxdW90O3NjYXZlbmdlciZxdW90O2AKfQoKZnVuYyBOZXdNc2dTZXRTY2F2ZW5nZShjcmVhdG9yIHNkay5BY2NBZGRyZXNzLCBkZXNjcmlwdGlvbiBzdHJpbmcsIHNvbHV0aW9uSGFzaCBzdHJpbmcsIHJld2FyZCBzdHJpbmcsIHNvbHV0aW9uIHN0cmluZywgc2NhdmVuZ2VyIHNkay5BY2NBZGRyZXNzKSBNc2dTZXRTY2F2ZW5nZSB7CglyZXR1cm4gTXNnU2V0U2NhdmVuZ2V7CgkJQ3JlYXRvcjogICAgICBjcmVhdG9yLAoJCURlc2NyaXB0aW9uOiAgZGVzY3JpcHRpb24sCgkJU29sdXRpb25IYXNoOiBzb2x1dGlvbkhhc2gsCgkJUmV3YXJkOiAgICAgICByZXdhcmQsCgkJU29sdXRpb246ICAgICBzb2x1dGlvbiwKCQlTY2F2ZW5nZXI6ICAgIHNjYXZlbmdlciwKCX0KfQoKZnVuYyAobXNnIE1zZ1NldFNjYXZlbmdlKSBSb3V0ZSgpIHN0cmluZyB7CglyZXR1cm4gUm91dGVyS2V5Cn0KCmZ1bmMgKG1zZyBNc2dTZXRTY2F2ZW5nZSkgVHlwZSgpIHN0cmluZyB7CglyZXR1cm4gJnF1b3Q7U2V0U2NhdmVuZ2UmcXVvdDsKfQoKZnVuYyAobXNnIE1zZ1NldFNjYXZlbmdlKSBHZXRTaWduZXJzKCkgW11zZGsuQWNjQWRkcmVzcyB7CglyZXR1cm4gW11zZGsuQWNjQWRkcmVzc3tzZGsuQWNjQWRkcmVzcyhtc2cuQ3JlYXRvcil9Cn0KCmZ1bmMgKG1zZyBNc2dTZXRTY2F2ZW5nZSkgR2V0U2lnbkJ5dGVzKCkgW11ieXRlIHsKCWJ6IDo9IE1vZHVsZUNkYy5NdXN0TWFyc2hhbEpTT04obXNnKQoJcmV0dXJuIHNkay5NdXN0U29ydEpTT04oYnopCn0KCmZ1bmMgKG1zZyBNc2dTZXRTY2F2ZW5nZSkgVmFsaWRhdGVCYXNpYygpIGVycm9yIHsKCWlmIG1zZy5DcmVhdG9yLkVtcHR5KCkgewoJCXJldHVybiBzZGtlcnJvcnMuV3JhcChzZGtlcnJvcnMuRXJySW52YWxpZEFkZHJlc3MsICZxdW90O2NyZWF0b3IgY2FuJ3QgYmUgZW1wdHkmcXVvdDspCgl9CglyZXR1cm4gbmlsCn0K"}}),c._v(" "),l("h2",{attrs:{id:"msgdeletescavenge"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#msgdeletescavenge"}},[c._v("#")]),c._v(" MsgDeleteScavenge")]),c._v(" "),l("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSB0eXBlcwoKaW1wb3J0ICgKCXNkayAmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3R5cGVzJnF1b3Q7CglzZGtlcnJvcnMgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay90eXBlcy9lcnJvcnMmcXVvdDsKKQoKdmFyIF8gc2RrLk1zZyA9ICZhbXA7TXNnRGVsZXRlU2NhdmVuZ2V7fQoKdHlwZSBNc2dEZWxldGVTY2F2ZW5nZSBzdHJ1Y3QgewogIElEICAgICAgc3RyaW5nICAgICAgICAgYGpzb246JnF1b3Q7aWQmcXVvdDsgeWFtbDomcXVvdDtpZCZxdW90O2AKICBDcmVhdG9yIHNkay5BY2NBZGRyZXNzIGBqc29uOiZxdW90O2NyZWF0b3ImcXVvdDsgeWFtbDomcXVvdDtjcmVhdG9yJnF1b3Q7YAp9CgpmdW5jIE5ld01zZ0RlbGV0ZVNjYXZlbmdlKGlkIHN0cmluZywgY3JlYXRvciBzZGsuQWNjQWRkcmVzcykgTXNnRGVsZXRlU2NhdmVuZ2UgewogIHJldHVybiBNc2dEZWxldGVTY2F2ZW5nZXsKICAgIElEOiBpZCwKCQlDcmVhdG9yOiBjcmVhdG9yLAoJfQp9CgpmdW5jIChtc2cgTXNnRGVsZXRlU2NhdmVuZ2UpIFJvdXRlKCkgc3RyaW5nIHsKICByZXR1cm4gUm91dGVyS2V5Cn0KCmZ1bmMgKG1zZyBNc2dEZWxldGVTY2F2ZW5nZSkgVHlwZSgpIHN0cmluZyB7CiAgcmV0dXJuICZxdW90O0RlbGV0ZVNjYXZlbmdlJnF1b3Q7Cn0KCmZ1bmMgKG1zZyBNc2dEZWxldGVTY2F2ZW5nZSkgR2V0U2lnbmVycygpIFtdc2RrLkFjY0FkZHJlc3MgewogIHJldHVybiBbXXNkay5BY2NBZGRyZXNze3Nkay5BY2NBZGRyZXNzKG1zZy5DcmVhdG9yKX0KfQoKZnVuYyAobXNnIE1zZ0RlbGV0ZVNjYXZlbmdlKSBHZXRTaWduQnl0ZXMoKSBbXWJ5dGUgewogIGJ6IDo9IE1vZHVsZUNkYy5NdXN0TWFyc2hhbEpTT04obXNnKQogIHJldHVybiBzZGsuTXVzdFNvcnRKU09OKGJ6KQp9CgpmdW5jIChtc2cgTXNnRGVsZXRlU2NhdmVuZ2UpIFZhbGlkYXRlQmFzaWMoKSBlcnJvciB7CiAgaWYgbXNnLkNyZWF0b3IuRW1wdHkoKSB7CiAgICByZXR1cm4gc2RrZXJyb3JzLldyYXAoc2RrZXJyb3JzLkVyckludmFsaWRBZGRyZXNzLCAmcXVvdDtjcmVhdG9yIGNhbid0IGJlIGVtcHR5JnF1b3Q7KQogIH0KICByZXR1cm4gbmlsCn0="}}),c._v(" "),l("h2",{attrs:{id:"msgsetcommit"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#msgsetcommit"}},[c._v("#")]),c._v(" MsgSetCommit")]),c._v(" "),l("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSB0eXBlcwoKaW1wb3J0ICgKCXNkayAmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3R5cGVzJnF1b3Q7CglzZGtlcnJvcnMgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay90eXBlcy9lcnJvcnMmcXVvdDsKKQoKdmFyIF8gc2RrLk1zZyA9ICZhbXA7TXNnU2V0Q29tbWl0e30KCnR5cGUgTXNnU2V0Q29tbWl0IHN0cnVjdCB7CglTY2F2ZW5nZXIgICAgICAgICAgICAgc2RrLkFjY0FkZHJlc3MgYGpzb246JnF1b3Q7c2NhdmVuZ2VyJnF1b3Q7IHlhbWw6JnF1b3Q7c2NhdmVuZ2VyJnF1b3Q7YAoJU29sdXRpb25IYXNoICAgICAgICAgIHN0cmluZyAgICAgICAgIGBqc29uOiZxdW90O3NvbHV0aW9uSGFzaCZxdW90OyB5YW1sOiZxdW90O3NvbHV0aW9uSGFzaCZxdW90O2AKCVNvbHV0aW9uU2NhdmVuZ2VySGFzaCBzdHJpbmcgICAgICAgICBganNvbjomcXVvdDtzb2x1dGlvblNjYXZlbmdlckhhc2gmcXVvdDsgeWFtbDomcXVvdDtzb2x1dGlvblNjYXZlbmdlckhhc2gmcXVvdDtgCn0KCmZ1bmMgTmV3TXNnU2V0Q29tbWl0KHNjYXZlbmdlciBzZGsuQWNjQWRkcmVzcywgaWQgc3RyaW5nLCBzb2x1dGlvbkhhc2ggc3RyaW5nLCBzb2x1dGlvblNjYXZlbmdlckhhc2ggc3RyaW5nKSBNc2dTZXRDb21taXQgewoJcmV0dXJuIE1zZ1NldENvbW1pdHsKCQlTY2F2ZW5nZXI6ICAgICAgICAgICAgIHNjYXZlbmdlciwKCQlTb2x1dGlvbkhhc2g6ICAgICAgICAgIHNvbHV0aW9uSGFzaCwKCQlTb2x1dGlvblNjYXZlbmdlckhhc2g6IHNvbHV0aW9uU2NhdmVuZ2VySGFzaCwKCX0KfQoKZnVuYyAobXNnIE1zZ1NldENvbW1pdCkgUm91dGUoKSBzdHJpbmcgewoJcmV0dXJuIFJvdXRlcktleQp9CgpmdW5jIChtc2cgTXNnU2V0Q29tbWl0KSBUeXBlKCkgc3RyaW5nIHsKCXJldHVybiAmcXVvdDtTZXRDb21taXQmcXVvdDsKfQoKZnVuYyAobXNnIE1zZ1NldENvbW1pdCkgR2V0U2lnbmVycygpIFtdc2RrLkFjY0FkZHJlc3MgewoJcmV0dXJuIFtdc2RrLkFjY0FkZHJlc3N7c2RrLkFjY0FkZHJlc3MobXNnLlNjYXZlbmdlcil9Cn0KCmZ1bmMgKG1zZyBNc2dTZXRDb21taXQpIEdldFNpZ25CeXRlcygpIFtdYnl0ZSB7CglieiA6PSBNb2R1bGVDZGMuTXVzdE1hcnNoYWxKU09OKG1zZykKCXJldHVybiBzZGsuTXVzdFNvcnRKU09OKGJ6KQp9CgpmdW5jIChtc2cgTXNnU2V0Q29tbWl0KSBWYWxpZGF0ZUJhc2ljKCkgZXJyb3IgewoJaWYgbXNnLlNjYXZlbmdlci5FbXB0eSgpIHsKCQlyZXR1cm4gc2RrZXJyb3JzLldyYXAoc2RrZXJyb3JzLkVyckludmFsaWRBZGRyZXNzLCAmcXVvdDtzY2F2ZW5nZXIgY2FuJ3QgYmUgZW1wdHkmcXVvdDspCgl9CglyZXR1cm4gbmlsCn0K"}}),c._v(" "),l("h2",{attrs:{id:"msgdeletecommit"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#msgdeletecommit"}},[c._v("#")]),c._v(" MsgDeleteCommit")]),c._v(" "),l("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSB0eXBlcwoKaW1wb3J0ICgKCXNkayAmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3R5cGVzJnF1b3Q7CglzZGtlcnJvcnMgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay90eXBlcy9lcnJvcnMmcXVvdDsKKQoKdmFyIF8gc2RrLk1zZyA9ICZhbXA7TXNnRGVsZXRlQ29tbWl0e30KCnR5cGUgTXNnRGVsZXRlQ29tbWl0IHN0cnVjdCB7CiAgSUQgICAgICBzdHJpbmcgICAgICAgICBganNvbjomcXVvdDtpZCZxdW90OyB5YW1sOiZxdW90O2lkJnF1b3Q7YAogIENyZWF0b3Igc2RrLkFjY0FkZHJlc3MgYGpzb246JnF1b3Q7Y3JlYXRvciZxdW90OyB5YW1sOiZxdW90O2NyZWF0b3ImcXVvdDtgCn0KCmZ1bmMgTmV3TXNnRGVsZXRlQ29tbWl0KGlkIHN0cmluZywgY3JlYXRvciBzZGsuQWNjQWRkcmVzcykgTXNnRGVsZXRlQ29tbWl0IHsKICByZXR1cm4gTXNnRGVsZXRlQ29tbWl0ewogICAgSUQ6IGlkLAoJCUNyZWF0b3I6IGNyZWF0b3IsCgl9Cn0KCmZ1bmMgKG1zZyBNc2dEZWxldGVDb21taXQpIFJvdXRlKCkgc3RyaW5nIHsKICByZXR1cm4gUm91dGVyS2V5Cn0KCmZ1bmMgKG1zZyBNc2dEZWxldGVDb21taXQpIFR5cGUoKSBzdHJpbmcgewogIHJldHVybiAmcXVvdDtEZWxldGVDb21taXQmcXVvdDsKfQoKZnVuYyAobXNnIE1zZ0RlbGV0ZUNvbW1pdCkgR2V0U2lnbmVycygpIFtdc2RrLkFjY0FkZHJlc3MgewogIHJldHVybiBbXXNkay5BY2NBZGRyZXNze3Nkay5BY2NBZGRyZXNzKG1zZy5DcmVhdG9yKX0KfQoKZnVuYyAobXNnIE1zZ0RlbGV0ZUNvbW1pdCkgR2V0U2lnbkJ5dGVzKCkgW11ieXRlIHsKICBieiA6PSBNb2R1bGVDZGMuTXVzdE1hcnNoYWxKU09OKG1zZykKICByZXR1cm4gc2RrLk11c3RTb3J0SlNPTihieikKfQoKZnVuYyAobXNnIE1zZ0RlbGV0ZUNvbW1pdCkgVmFsaWRhdGVCYXNpYygpIGVycm9yIHsKICBpZiBtc2cuQ3JlYXRvci5FbXB0eSgpIHsKICAgIHJldHVybiBzZGtlcnJvcnMuV3JhcChzZGtlcnJvcnMuRXJySW52YWxpZEFkZHJlc3MsICZxdW90O2NyZWF0b3IgY2FuJ3QgYmUgZW1wdHkmcXVvdDspCiAgfQogIHJldHVybiBuaWwKfQ=="}}),c._v(" "),l("h2",{attrs:{id:"codec"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#codec"}},[c._v("#")]),c._v(" Codec")]),c._v(" "),l("p",[c._v("Once we have defined our messages, we need to describe to our encoder how they should be stored as bytes. To do this we edit the file located at "),l("code",[c._v("./x/scavenge/types/codec.go")]),c._v(". By describing our types as follows they will work with our encoding library:")]),c._v(" "),l("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSB0eXBlcwoKaW1wb3J0ICgKCSZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvY29kZWMmcXVvdDsKKQoKLy8gUmVnaXN0ZXJDb2RlYyByZWdpc3RlcnMgY29uY3JldGUgdHlwZXMgb24gY29kZWMKZnVuYyBSZWdpc3RlckNvZGVjKGNkYyAqY29kZWMuQ29kZWMpIHsKCS8vIHRoaXMgbGluZSBpcyB1c2VkIGJ5IHN0YXJwb3J0IHNjYWZmb2xkaW5nICMgMQoJY2RjLlJlZ2lzdGVyQ29uY3JldGUoTXNnQ29tbWl0U29sdXRpb257fSwgJnF1b3Q7c2NhdmVuZ2UvQ3JlYXRlQ29tbWl0JnF1b3Q7LCBuaWwpCgljZGMuUmVnaXN0ZXJDb25jcmV0ZShNc2dTZXRDb21taXR7fSwgJnF1b3Q7c2NhdmVuZ2UvU2V0Q29tbWl0JnF1b3Q7LCBuaWwpCgljZGMuUmVnaXN0ZXJDb25jcmV0ZShNc2dEZWxldGVDb21taXR7fSwgJnF1b3Q7c2NhdmVuZ2UvRGVsZXRlQ29tbWl0JnF1b3Q7LCBuaWwpCgljZGMuUmVnaXN0ZXJDb25jcmV0ZShNc2dDcmVhdGVTY2F2ZW5nZXt9LCAmcXVvdDtzY2F2ZW5nZS9DcmVhdGVTY2F2ZW5nZSZxdW90OywgbmlsKQoJY2RjLlJlZ2lzdGVyQ29uY3JldGUoTXNnU2V0U2NhdmVuZ2V7fSwgJnF1b3Q7c2NhdmVuZ2UvU2V0U2NhdmVuZ2UmcXVvdDssIG5pbCkKCWNkYy5SZWdpc3RlckNvbmNyZXRlKE1zZ0RlbGV0ZVNjYXZlbmdle30sICZxdW90O3NjYXZlbmdlL0RlbGV0ZVNjYXZlbmdlJnF1b3Q7LCBuaWwpCgljZGMuUmVnaXN0ZXJDb25jcmV0ZShNc2dSZXZlYWxTb2x1dGlvbnt9LCAmcXVvdDtzY2F2ZW5nZS9Nc2dSZXZlYWxTb2x1dGlvbiZxdW90OywgbmlsKQp9CgovLyBNb2R1bGVDZGMgZGVmaW5lcyB0aGUgbW9kdWxlIGNvZGVjCnZhciBNb2R1bGVDZGMgKmNvZGVjLkNvZGVjCgpmdW5jIGluaXQoKSB7CglNb2R1bGVDZGMgPSBjb2RlYy5OZXcoKQoJUmVnaXN0ZXJDb2RlYyhNb2R1bGVDZGMpCgljb2RlYy5SZWdpc3RlckNyeXB0byhNb2R1bGVDZGMpCglNb2R1bGVDZGMuU2VhbCgpCn0K"}}),c._v(" "),l("p",[l("strong",[c._v("Note:")]),c._v(" in case you have restarted the app using "),l("code",[c._v("starport serve")]),c._v(" some errors might appear due to changes on our "),l("strong",[c._v("type")]),c._v(" files. Don't panic! All these changes will be covered during the next session.")]),c._v(" "),l("p",[c._v("Awesome, It's great to have Messages, but we need somewhere to store the information they are sending. All persistent data related to this module should live in the module's "),l("code",[c._v("Keeper")]),c._v(".")]),c._v(" "),l("p",[c._v("Let's update the "),l("code",[c._v("Keeper")]),c._v(" for our Scavenge module next.")])],1)}),[],!1,null,null,null);d.default=b.exports}}]);