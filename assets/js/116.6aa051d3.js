(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{699:function(e,a,t){"use strict";t.r(a);var o=t(0),c=Object(o.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"building-our-pofe-blockchain-using-starport"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#building-our-pofe-blockchain-using-starport"}},[e._v("#")]),e._v(" Building our PoFE blockchain using Starport")]),e._v(" "),t("p",[e._v("We can scaffold our application by running "),t("code",[e._v("starport app github.com/user/pofe")]),e._v(". This creates a new folder called "),t("code",[e._v("pofe")]),e._v(" which contains the code for your app.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"c3RhcnBvcnQgYXBwIGdpdGh1Yi5jb20vdXNlci9wb2ZlIC0tc2RrLXZlcnNpb24gbGF1bmNocGFkCg=="}}),e._v(" "),t("h2",{attrs:{id:"run-application"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#run-application"}},[e._v("#")]),e._v(" Run application")]),e._v(" "),t("p",[e._v("After scaffolding our application, let's open up a separate terminal window in the newly created "),t("code",[e._v("pofe")]),e._v(" folder and run "),t("code",[e._v("starport serve")]),e._v(", which will start our application. Here, you should be able to see the following output, as well as any errors that might show up in your application.")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"JCBzdGFycG9ydCBzZXJ2ZQpDb3Ntb3MnIHZlcnNpb24gaXM6IExhdW5jaHBhZAoK8J+TpiBJbnN0YWxsaW5nIGRlcGVuZGVuY2llcy4uLgrwn5ug77iPICBCdWlsZGluZyB0aGUgYXBwLi4uCvCfmYIgQ3JlYXRlZCBhbiBhY2NvdW50LiBQYXNzd29yZCAobW5lbW9uaWMpOiBqb3kgbWFuYWdlIGZpcm0gYXJyYW5nZSBmaW5pc2ggYm91bmNlIHBvd2VyIHNob3ZlIGJyaW5nIGJ1bmRsZSBpc3N1ZSBjaGllZiBxdWl6IHNwcmVhZCBzeW1wdG9tIHN3b3JkIHNsZW5kZXIgdm90ZSBob2JieSB3YXRlciB3ZWlyZCB0cmltIHBhbnRoZXIgc2xvdArwn5mCIENyZWF0ZWQgYW4gYWNjb3VudC4gUGFzc3dvcmQgKG1uZW1vbmljKTogbWVhdCBza2lydCBzbGFiIHNtYXJ0IGltcHVsc2UgcmVnaW9uIGNsdW1wIGdlbnVpbmUgemVybyBjbG9nIHZlcnNpb24gZmF0aGVyIHNwcmF5IG1pZG5pZ2h0IHRpcCBwb2VtIGlucHV0IGZhbnRhc3kgZGVjaWRlIGJ1ZGR5IHdvcmsgc3RyYXRlZ3kgbmVzdCBzaGFmdArwn4yNIFJ1bm5pbmcgYSBDb3Ntb3MgJ3BvZmUnIGFwcCB3aXRoIFRlbmRlcm1pbnQgYXQgaHR0cDovL2xvY2FsaG9zdDoyNjY1Ny4K8J+MjSBSdW5uaW5nIGEgc2VydmVyIGF0IGh0dHA6Ly9sb2NhbGhvc3Q6MTMxNyAoTENEKQoK8J+agCBHZXQgc3RhcnRlZDogaHR0cDovL2xvY2FsaG9zdDoxMjM0NS8K"}}),e._v(" "),t("p",[t("em",[e._v("Note: use")]),e._v(" "),t("code",[e._v("starport serve --verbose")]),e._v(" "),t("em",[e._v("to visualize detailed operations happening in the background")])]),e._v(" "),t("h2",{attrs:{id:"creating-our-claim-type"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#creating-our-claim-type"}},[e._v("#")]),e._v(" Creating our "),t("code",[e._v("Claim")]),e._v(" type")]),e._v(" "),t("p",[e._v("Open a new terminal inside the "),t("code",[e._v("pofe")]),e._v(" directory and create a type called "),t("code",[e._v("claim")]),e._v(" with the field "),t("code",[e._v("proof")]),e._v(":")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3RhcnBvcnQgdHlwZSBjbGFpbSBwcm9vZjpzdHJpbmcK"}}),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"8J+OiSBDcmVhdGVkIGEgdHlwZSBgY2xhaW1gLgo="}}),e._v(" "),t("p",[e._v("This creates the "),t("code",[e._v("claim")]),e._v(" type, as well as adding its relevant CLI commands, handlers, messages, type, queriers, and keepers.")]),e._v(" "),t("p",[e._v("At this point, we have a working application - you can verify this by checking the output of the secondary terminal window.")]),e._v(" "),t("p",[e._v("However, we want to modify our application so it better fits our requirements.")]),e._v(" "),t("h2",{attrs:{id:"modifying-our-application"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#modifying-our-application"}},[e._v("#")]),e._v(" Modifying our application")]),e._v(" "),t("p",[e._v("We want to implement an interface that allows someone to hash a file and submit the hash to the blockchain, without directly uploading its contents. We'll be implementing this via the CLI in "),t("code",[e._v("./x/pofe/client/cli/txClaim.go")]),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"x-pofe-client-cli-txclaim-go"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#x-pofe-client-cli-txclaim-go"}},[e._v("#")]),e._v(" "),t("code",[e._v("x/pofe/client/cli/txClaim.go")])]),e._v(" "),t("p",[e._v("First, make sure to add the import of the following packages:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBjbGkKCmltcG9ydCAoCgkuLi4KCgkmcXVvdDtjcnlwdG8vc2hhMjU2JnF1b3Q7CgkmcXVvdDtlbmNvZGluZy9oZXgmcXVvdDsKCSZxdW90O2lvL2lvdXRpbCZxdW90OwopCg=="}}),e._v(" "),t("p",[e._v("Next, we want to update our "),t("code",[e._v("GetCmdCreateClaim")]),e._v(" function so it looks as follows:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gQ0xJIHRyYW5zYWN0aW9uIGNvbW1hbmQgdG8gY3JlYXRlIGEgY2xhaW0KZnVuYyBHZXRDbWRDcmVhdGVDbGFpbShjZGMgKmNvZGVjLkNvZGVjKSAqY29icmEuQ29tbWFuZCB7CglyZXR1cm4gJmFtcDtjb2JyYS5Db21tYW5kewoJCVVzZTogICAmcXVvdDtjcmVhdGUtY2xhaW0gW3BhdGgtdG8tZmlsZV0mcXVvdDssCgkJU2hvcnQ6ICZxdW90O0NyZWF0ZXMgYSBuZXcgY2xhaW0gZnJvbSBhIHBhdGggdG8gYSBmaWxlJnF1b3Q7LAoJCUFyZ3M6ICBjb2JyYS5NaW5pbXVtTkFyZ3MoMSksCgkJUnVuRTogZnVuYyhjbWQgKmNvYnJhLkNvbW1hbmQsIGFyZ3MgW11zdHJpbmcpIGVycm9yIHsKCQkJLy8gYWNjZXB0IGEgZmlsZXBhdGgsIHJlYWQgdGhlIGZpbGUsIGFuZCBoYXNoIGl0CgkJCWhhc2hlciA6PSBzaGEyNTYuTmV3KCkKCQkJcywgXyA6PSBpb3V0aWwuUmVhZEZpbGUoYXJnc1swXSkKCQkJaGFzaGVyLldyaXRlKHMpCgkJCWFyZ3NQcm9vZiA6PSBoZXguRW5jb2RlVG9TdHJpbmcoaGFzaGVyLlN1bShuaWwpKQoKCQkJLy8gYXV0b21hdGljYWxseSBzY2FmZm9sZGVkIGJ5IGBzdGFycG9ydCB0eXBlYAoJCQljbGlDdHggOj0gY29udGV4dC5OZXdDTElDb250ZXh0KCkuV2l0aENvZGVjKGNkYykKCQkJaW5CdWYgOj0gYnVmaW8uTmV3UmVhZGVyKGNtZC5Jbk9yU3RkaW4oKSkKCQkJdHhCbGRyIDo9IGF1dGguTmV3VHhCdWlsZGVyRnJvbUNMSShpbkJ1ZikuV2l0aFR4RW5jb2Rlcih1dGlscy5HZXRUeEVuY29kZXIoY2RjKSkKCQkJbXNnIDo9IHR5cGVzLk5ld01zZ0NyZWF0ZUNsYWltKGNsaUN0eC5HZXRGcm9tQWRkcmVzcygpLCBzdHJpbmcoYXJnc1Byb29mKSkKCQkJZXJyIDo9IG1zZy5WYWxpZGF0ZUJhc2ljKCkKCQkJaWYgZXJyICE9IG5pbCB7CgkJCQlyZXR1cm4gZXJyCgkJCX0KCQkJcmV0dXJuIHV0aWxzLkdlbmVyYXRlT3JCcm9hZGNhc3RNc2dzKGNsaUN0eCwgdHhCbGRyLCBbXXNkay5Nc2d7bXNnfSkKCQl9LAoJfQp9Cg=="}}),e._v(" "),t("p",[e._v("We can keep the "),t("code",[e._v("GetCmdSetClaim")]),e._v(" and "),t("code",[e._v("GetCmdDeleteClaim")]),e._v(" functions as is.")]),e._v(" "),t("p",[e._v("Lastly, instead of using the auto-generated uuid "),t("code",[e._v("ID")]),e._v(" as our key, we will be using the "),t("code",[e._v("Proof")]),e._v(" value in our struct instead. This will make it a lot easier to query an occurrence of "),t("code",[e._v("Proof")]),e._v(" in our database. We can start by modifying the "),t("code",[e._v("CreateClaim")]),e._v(" method in our "),t("code",[e._v("./x/pofe/keeper/claim.go")]),e._v(" file, as well as all other relevant files that use "),t("code",[e._v("claim.ID")]),e._v(", to use "),t("code",[e._v("claim.Proof")]),e._v(" instead of "),t("code",[e._v("claim.ID")]),e._v(".")]),e._v(" "),t("h3",{attrs:{id:"x-pofe-keeper-claim-go"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#x-pofe-keeper-claim-go"}},[e._v("#")]),e._v(" "),t("code",[e._v("x/pofe/keeper/claim.go")])]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyAoayBLZWVwZXIpIENyZWF0ZUNsYWltKGN0eCBzZGsuQ29udGV4dCwgY2xhaW0gdHlwZXMuQ2xhaW0pIHsKCXN0b3JlIDo9IGN0eC5LVlN0b3JlKGsuc3RvcmVLZXkpCglrZXkgOj0gW11ieXRlKHR5cGVzLkNsYWltUHJlZml4ICsgY2xhaW0uUHJvb2YpCgl2YWx1ZSA6PSBrLmNkYy5NdXN0TWFyc2hhbEJpbmFyeUxlbmd0aFByZWZpeGVkKGNsYWltKQoJc3RvcmUuU2V0KGtleSwgdmFsdWUpCn0K"}}),e._v(" "),t("p",[e._v("In order to import types.Claim from the kepper, we have to edit our "),t("code",[e._v("handlerMsgCreateClaim.go")]),e._v(" file in")]),e._v(" "),t("h3",{attrs:{id:"x-pofe-handermsgcreateclaim-go"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#x-pofe-handermsgcreateclaim-go"}},[e._v("#")]),e._v(" "),t("code",[e._v("x/pofe/handerMsgCreateClaim.go")])]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBwb2ZlCgppbXBvcnQgKAoJc2RrICZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvdHlwZXMmcXVvdDsKCgkmcXVvdDtnaXRodWIuY29tL3VzZXIvcG9mZS94L3BvZmUva2VlcGVyJnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL3VzZXIvcG9mZS94L3BvZmUvdHlwZXMmcXVvdDsKKQoKZnVuYyBoYW5kbGVNc2dDcmVhdGVDbGFpbShjdHggc2RrLkNvbnRleHQsIGsga2VlcGVyLktlZXBlciwgbXNnIHR5cGVzLk1zZ0NyZWF0ZUNsYWltKSAoKnNkay5SZXN1bHQsIGVycm9yKSB7Cgl2YXIgY2xhaW0gPSB0eXBlcy5DbGFpbXsKCQlDcmVhdG9yOiBtc2cuQ3JlYXRvciwKCQlQcm9vZjogICBtc2cuUHJvb2YsCgl9CglrLkNyZWF0ZUNsYWltKGN0eCwgY2xhaW0pCgoJcmV0dXJuICZhbXA7c2RrLlJlc3VsdHtFdmVudHM6IGN0eC5FdmVudE1hbmFnZXIoKS5FdmVudHMoKX0sIG5pbAp9Cgo="}}),e._v(" "),t("h2",{attrs:{id:"submit-a-proof-of-file-existence-claim"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#submit-a-proof-of-file-existence-claim"}},[e._v("#")]),e._v(" Submit a Proof of File Existence claim")]),e._v(" "),t("p",[e._v("Once there are no more errors to run through, we can start submitting claims on our blockchain!")]),e._v(" "),t("p",[e._v("Let's start with the easiest one - let's say we want to prove that we made this blockchain.")]),e._v(" "),t("p",[e._v("When we run "),t("code",[e._v("starport serve")]),e._v(", we're also building the application to a binary called "),t("code",[e._v("pofed")]),e._v(", so we can use this file to submit a claim:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"cG9mZWNsaSB0eCBwb2ZlIGNyZWF0ZS1jbGFpbSAkKHdoaWNoIHBvZmVkKSAtLWZyb20gdXNlcjEK"}}),e._v(" "),t("p",[e._v("After confirming the transaction, run:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:" ",base64:"cG9mZWNsaSBxIHBvZmUgbGlzdC1jbGFpbQo="}}),e._v(" "),t("p",[e._v("You should see an output like this:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"WwogIHsKICAgICZxdW90O2NyZWF0b3ImcXVvdDs6ICZxdW90O2Nvc21vczE2NWhwaHg5OGQ3NjdjOTlndG0wbjdnZXZxMnEwbndyZzc1cGZrZCZxdW90OywKICAgICZxdW90O3Byb29mJnF1b3Q7OiAmcXVvdDs1MzRmMDU2ZTU4MTE1ZGQxMDZkMDI2ZTAwZGEyMmEzMmY4Yzc3NmEwY2Q1YjNkZDY0MzE1OThkNzNiNWY2MjNjJnF1b3Q7CiAgfQpdCg=="}}),e._v(" "),t("p",[e._v("Congratulations! Your claim is now on the blockchain, proving you built this app!")]),e._v(" "),t("p",[e._v("If you ever want to remove or delete the claim, you can simply run the command by - of course - replacing the proof:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"cG9mZWNsaSB0eCBwb2ZlIGRlbGV0ZS1jbGFpbSA1MzRmMDU2ZTU4MTE1ZGQxMDZkMDI2ZTAwZGEyMmEzMmY4Yzc3NmEwY2Q1YjNkZDY0MzE1OThkNzNiNWY2MjNjIC0tZnJvbSB1c2VyMQo="}}),e._v(" "),t("p",[e._v("In the next section, we will be implementing a user interface in vue for our application.")])],1)}),[],!1,null,null,null);a.default=c.exports}}]);