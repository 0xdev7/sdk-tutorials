(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{739:function(t,e,a){"use strict";a.r(e);var s=a(1),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"make-a-checkers-blockchain"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#make-a-checkers-blockchain"}},[t._v("#")]),t._v(" Make a Checkers Blockchain")]),t._v(" "),a("HighlightBox",{attrs:{type:"synopsis"}},[a("p",[t._v("Make sure you have all you need before proceeding with the exercise:")]),t._v(" "),a("ul",[a("li",[t._v("You understand the concepts of "),a("RouterLink",{attrs:{to:"/academy/2-main-concepts/accounts.html"}},[t._v("accounts")]),t._v(", "),a("RouterLink",{attrs:{to:"/academy/2-main-concepts/protobuf.html"}},[t._v("Protobuf")]),t._v(", and "),a("RouterLink",{attrs:{to:"/academy/2-main-concepts/multistore-keepers.html"}},[t._v("multistore")]),t._v(".")],1),t._v(" "),a("li",[t._v("Have Go installed.")]),t._v(" "),a("li",[t._v("The bare blockchain scaffold codebase with a single module named "),a("code",[t._v("checkers")]),t._v(". You can get there by following the "),a("RouterLink",{attrs:{to:"/academy/4-my-own-chain/starport.html"}},[t._v("previous steps")]),t._v(" or checking out the "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/tree/starport-start",target:"_blank",rel:"noopener noreferrer"}},[t._v("relevant version"),a("OutboundLink")],1),t._v(".")],1)])]),t._v(" "),a("p",[t._v("In the "),a("a",{attrs:{href:"./starport"}},[t._v("Starport introduction section")]),t._v(" you learned how to start a brand-new blockchain. Now it is time to dive deeper and explore how you can create a blockchain to play a decentralized game of checkers.")]),t._v(" "),a("p",[t._v("A good start to developing a checkers blockchain is to define the ruleset of the game. There are many versions of the rules. Choose "),a("a",{attrs:{href:"https://www.ducksters.com/games/checkers_rules.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("a very simple set of basic rules"),a("OutboundLink")],1),t._v(" to not get lost in the rules of checkers or the proper implementation of the board state.")]),t._v(" "),a("p",[t._v("Use "),a("a",{attrs:{href:"https://github.com/batkinson/checkers-go/blob/a09daeb/checkers/checkers.go",target:"_blank",rel:"noopener noreferrer"}},[t._v("a ready-made implementation"),a("OutboundLink")],1),t._v(" with the additional rule that the board is 8x8 and played on black cells. This code will not need adjustments. Copy this rules file into a "),a("code",[t._v("rules")]),t._v(" folder inside your module. Change its package from "),a("code",[t._v("checkers")]),t._v(" to "),a("code",[t._v("rules")]),t._v(". You can do this by command-line:")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" checkers\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" x/checkers/rules\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" https://raw.githubusercontent.com/batkinson/checkers-go/a09daeb1548dd4cc0145d87c8da3ed2ea33a62e3/checkers/checkers.go "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s/package checkers/package rules/'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" x/checkers/rules/checkers.go\n")])])]),a("p",[t._v("Do not focus on the GUI for the moment. You will only lay the foundation for an interface.")]),t._v(" "),a("p",[t._v("Now it is time to create the first object.")]),t._v(" "),a("h2",{attrs:{id:"the-stored-game-object"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-stored-game-object"}},[t._v("#")]),t._v(" The stored game object")]),t._v(" "),a("p",[t._v("Begin with the minimum game information needed to be kept in the storage:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Red player.")]),t._v(" A string, the serialized address.")]),t._v(" "),a("li",[a("strong",[t._v("Black player.")]),t._v(" A string, the serialized address.")]),t._v(" "),a("li",[a("strong",[t._v("Game proper.")]),t._v(" A string, the game as it is serialized by the "),a("em",[t._v("rules")]),t._v(" file.")]),t._v(" "),a("li",[a("strong",[t._v("Player to play next.")]),t._v(" A string.")])]),t._v(" "),a("h3",{attrs:{id:"how-to-store"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-store"}},[t._v("#")]),t._v(" How to store")]),t._v(" "),a("p",[t._v("Knowing "),a("strong",[t._v("what")]),t._v(" to store, you now have to decide "),a("strong",[t._v("how")]),t._v(" to store a game. This is important if you want your blockchain application to accommodate multiple simultaneous games. The game is identified by a unique ID.")]),t._v(" "),a("p",[t._v("How should you generate the ID? You cannot let players choose it themselves as this could lead to transactions failing because of an ID clash. It is better to have a counter incrementing on each new game. This is possible because the code execution happens in a single thread. You cannot rely on a large random number like a universally unique identifier (UUID) because transactions have to be verifiable in the future.")]),t._v(" "),a("p",[t._v("You need to keep such a counter in storage between transactions. You can keep a unique object at a singular location instead of a single counter. You can easily add relevant elements to the object as needed in the future. Designate "),a("code",[t._v("idValue")]),t._v(" to the counter.")]),t._v(" "),a("p",[t._v("You can rely on Starport's assistance:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("For the counter or rather the object that contains it, call "),a("code",[t._v("NextGame")]),t._v(" and instruct Starport with "),a("code",[t._v("scaffold single")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("$ starport scaffold single nextGame idValue:uint --module checkers --no-message\n")])])]),a("p",[t._v("You need to add "),a("code",[t._v("--no-message")]),t._v(". If you omit it, Starport creates an "),a("code",[t._v("sdk.Msg")]),t._v(" and an associated service, whose purpose is to overwrite your "),a("code",[t._v("NextGame")]),t._v(" object. Your "),a("code",[t._v("NextGame.IdValue")]),t._v(" has to be controlled/incremented by the application and not by a player sending a value of their own choosing. Starport still creates convenient getters.")])]),t._v(" "),a("li",[a("p",[t._v("You need a map because you're storing games by ID. Instruct Starport with "),a("code",[t._v("scaffold map")]),t._v(" using the "),a("code",[t._v("StoredGame")]),t._v(" name:")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("$ starport scaffold map storedGame game turn red black --module checkers --no-message\n")])])]),a("p",[t._v("The "),a("code",[t._v("--no-message")]),t._v(" again? You do not want the game objects to be created or overwritten with a simple "),a("code",[t._v("sdk.Msg")]),t._v(". The application instead creates and updates the objects when receiving properly crafted messages like "),a("RouterLink",{attrs:{to:"/academy/4-my-own-chain/create-message.html"}},[a("em",[t._v("create game")])]),t._v(" or "),a("RouterLink",{attrs:{to:"/academy/4-my-own-chain/play-game.html"}},[a("em",[t._v("play a move")])]),t._v(".")],1)])]),t._v(" "),a("p",[t._v("The Starport "),a("code",[t._v("scaffold")]),t._v(" command creates several files as you can see "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/commit/821f4592d78e5d689dcc349613c8efb11386f785",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/commit/463968fa94a7b6117428bb342c721176086a8d22",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("The command added new constants:")]),t._v(" "),a("div",{staticClass:"language-go [https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/x/checkers/types/keys.go#L28-L34] extra-class"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    NextGameKey "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NextGame-value-"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    StoredGameKey "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"StoredGame-value-"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("These constants will be used as prefixes for the keys that can access objects' storage.")]),t._v(" "),a("h3",{attrs:{id:"protobuf-objects"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#protobuf-objects"}},[t._v("#")]),t._v(" Protobuf objects")]),t._v(" "),a("p",[t._v("Starport creates the Protobuf objects in the "),a("code",[t._v("proto")]),t._v(" directory before compiling them. The "),a("code",[t._v("NextGame")]),t._v(" object looks like this:")]),t._v(" "),a("div",{staticClass:"language-protobuf [https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/proto/checkers/next_game.proto#L8-L11] extra-class"},[a("pre",{pre:!0,attrs:{class:"language-protobuf"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NextGame")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" creator "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint64")]),t._v(" idValue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("And the "),a("code",[t._v("StoredGame")]),t._v(" object looks like this:")]),t._v(" "),a("div",{staticClass:"language-protobuf [https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/proto/checkers/stored_game.proto#L8-L15] extra-class"},[a("pre",{pre:!0,attrs:{class:"language-protobuf"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StoredGame")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" creator "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" index "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" game "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" turn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" red "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" black "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Both objects compile to:")]),t._v(" "),a("div",{staticClass:"language-go [https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/x/checkers/types/next_game.pb.go#L26-L29] extra-class"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" NextGame "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Creator "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('`protobuf:"bytes,1,opt,name=creator,proto3" json:"creator,omitempty"`')]),t._v("\n    IdValue "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("uint64")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('`protobuf:"varint,2,opt,name=idValue,proto3" json:"idValue,omitempty"`')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("And:")]),t._v(" "),a("div",{staticClass:"language-go [https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/x/checkers/types/stored_game.pb.go#L26-L33] extra-class"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" StoredGame "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Creator "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('`protobuf:"bytes,1,opt,name=creator,proto3" json:"creator,omitempty"`')]),t._v("\n    Index   "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('`protobuf:"bytes,2,opt,name=index,proto3" json:"index,omitempty"`')]),t._v("\n    Game    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('`protobuf:"bytes,3,opt,name=game,proto3" json:"game,omitempty"`')]),t._v("\n    Turn    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('`protobuf:"bytes,4,opt,name=turn,proto3" json:"turn,omitempty"`')]),t._v("\n    Red     "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('`protobuf:"bytes,5,opt,name=red,proto3" json:"red,omitempty"`')]),t._v("\n    Black   "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('`protobuf:"bytes,6,opt,name=black,proto3" json:"black,omitempty"`')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("These are not the only created Protobuf objects. The genesis state is also defined in Protobuf:")]),t._v(" "),a("div",{staticClass:"language-protobuf [https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/proto/checkers/genesis.proto#L11-L16] extra-class"},[a("pre",{pre:!0,attrs:{class:"language-protobuf"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"checkers/stored_game.proto"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"checkers/next_game.proto"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GenesisState")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("repeated")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token positional-class-name class-name"}},[t._v("StoredGame")]),t._v(" storedGameList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token positional-class-name class-name"}},[t._v("NextGame")]),t._v(" nextGame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Which is compiled to:")]),t._v(" "),a("div",{staticClass:"language-go [https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/x/checkers/types/genesis.pb.go#L26-L30] extra-class"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" GenesisState "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    StoredGameList "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("StoredGame "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('`protobuf:"bytes,2,rep,name=storedGameList,proto3" json:"storedGameList,omitempty"`')]),t._v("\n    NextGame       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("NextGame     "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('`protobuf:"bytes,1,opt,name=nextGame,proto3" json:"nextGame,omitempty"`')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("You can find query objects as part of the boilerplate objects created by Starport. "),a("code",[t._v("NextGame")]),t._v(" might look out of place, but keep in mind Starport creates the objects according to a model. This does not prevent you from making changes later if you decide these queries are not needed:")]),t._v(" "),a("div",{staticClass:"language-protobuf [https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/proto/checkers/query.proto#L51-L55] extra-class"},[a("pre",{pre:!0,attrs:{class:"language-protobuf"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QueryGetNextGameRequest")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QueryGetNextGameResponse")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token positional-class-name class-name"}},[t._v("NextGame")]),t._v(" NextGame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("The query objects for "),a("code",[t._v("StoredGame")]),t._v(" have more use to your checkers game and look like this:")]),t._v(" "),a("div",{staticClass:"language-protobuf [https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/proto/checkers/query.proto#L35-L50] extra-class"},[a("pre",{pre:!0,attrs:{class:"language-protobuf"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QueryGetStoredGameRequest")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" index "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QueryGetStoredGameResponse")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token positional-class-name class-name"}},[t._v("StoredGame")]),t._v(" StoredGame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QueryAllStoredGameRequest")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token positional-class-name class-name"}},[t._v("cosmos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("base"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("v1beta1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PageRequest")]),t._v(" pagination "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("message")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QueryAllStoredGameResponse")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("repeated")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token positional-class-name class-name"}},[t._v("StoredGame")]),t._v(" StoredGame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token positional-class-name class-name"}},[t._v("cosmos"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("base"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("v1beta1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PageResponse")]),t._v(" pagination "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"starport-s-modus-operandi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#starport-s-modus-operandi"}},[t._v("#")]),t._v(" Starport's modus operandi")]),t._v(" "),a("p",[t._v("Starport puts the different Protobuf messages into different files depending on their use:")]),t._v(" "),a("ul",[a("li",[a("strong",[a("code",[t._v("query.proto")]),t._v(".")]),t._v(" For the objects related to reading the state. Starport modifies this file as you add queries. This includes the objects to "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/proto/checkers/query.proto#L35-L55",target:"_blank",rel:"noopener noreferrer"}},[t._v("query your stored elements"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("tx.proto")]),t._v(".")]),t._v(" For the objects that relate to updating the state. As you have only defined storage elements with "),a("code",[t._v("--no-message")]),t._v(", it is empty for now. The file will be modified as you add transaction-related elements like the message to "),a("RouterLink",{attrs:{to:"/academy/4-my-own-chain/create-message.html"}},[t._v("create a game")]),t._v(".")],1),t._v(" "),a("li",[a("strong",[a("code",[t._v("genesis.proto")]),t._v(".")]),t._v(" For the genesis. Starport modifies this file according to how your new storage elements evolve.")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("next_game.proto")]),t._v(" and "),a("code",[t._v("stored_game.proto")]),t._v(".")]),t._v(" Separate files created once that remain untouched by Starport after their creation. You are free to modify them but be careful with the "),a("a",{attrs:{href:"https://developers.google.com/protocol-buffers/docs/overview#assigning_field_numbers",target:"_blank",rel:"noopener noreferrer"}},[t._v("numbering"),a("OutboundLink")],1),t._v(".")])]),t._v(" "),a("p",[t._v("Files updated by Starport include comments like:")]),t._v(" "),a("div",{staticClass:"language-protobuf [https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/proto/checkers/query.proto#L14] extra-class"},[a("pre",{pre:!0,attrs:{class:"language-protobuf"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this line is used by starport scaffolding # 2")]),t._v("\n")])])]),a("HighlightBox",{attrs:{type:"tip"}},[a("p",[t._v("Starport adds code right below the comments, which explains the odd numbering with the oldest members appearing lower than recent ones. But make sure to keep these comments where they are so that Starport knows where to inject code in the future. You could add your code above or below the comments. You will be fine if you keep these comments where they are.")])]),t._v(" "),a("p",[t._v("Some files created by Starport can be updated, but you should not modify the Protobuf-compiled files "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/x/checkers/types/next_game.pb.go",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("*.pb.go")]),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/x/checkers/types/query.pb.gw.go",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("*.pb.gw.go")]),a("OutboundLink")],1),t._v(" as they are recreated on every re-run of "),a("code",[t._v("starport generate proto-go")]),t._v(" or equivalent.")]),t._v(" "),a("h3",{attrs:{id:"files-to-adjust"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#files-to-adjust"}},[t._v("#")]),t._v(" Files to adjust")]),t._v(" "),a("p",[t._v("Starport creates files that you can and should update. For example, when it comes to the default genesis values:")]),t._v(" "),a("div",{staticClass:"language-go [https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/x/checkers/types/genesis.go#L16-L17] extra-class"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("DefaultGenesis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("GenesisState "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("GenesisState"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        StoredGameList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("StoredGame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        NextGame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("NextGame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("uint64")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("You can choose to start with no games or insert a number of games to start with. You will need to choose the first ID of the first game in any case, which here is set at "),a("code",[t._v("0")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"protobuf-service-interfaces"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#protobuf-service-interfaces"}},[t._v("#")]),t._v(" Protobuf service interfaces")]),t._v(" "),a("p",[t._v("Beyond the created objects Starport also creates services that declare and define how to access the newly-created storage objects. Starport introduces empty service interfaces that can be filled as you add objects and messages when scaffolding a brand new module.")]),t._v(" "),a("p",[t._v("In your case, Starport added to "),a("code",[t._v("service Query")]),t._v(" how to query for your objects:")]),t._v(" "),a("div",{staticClass:"language-protobuf [https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/proto/checkers/query.proto#L16-L30] extra-class"},[a("pre",{pre:!0,attrs:{class:"language-protobuf"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("service")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Query")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rpc")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("StoredGame")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QueryGetStoredGameRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QueryGetStoredGameResponse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("option")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("google"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("api"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/alice/checkers/checkers/storedGame/{index}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rpc")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("StoredGameAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QueryAllStoredGameRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QueryAllStoredGameResponse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("option")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("google"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("api"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/alice/checkers/checkers/storedGame"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rpc")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("NextGame")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QueryGetNextGameRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("returns")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QueryGetNextGameResponse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("option")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("google"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("api"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/alice/checkers/checkers/nextGame"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Starport separates concerns into different files in the compilation of a service. Some of which you should edit and some should be left untouched. The following was already taken care of by Starport for your checkers game:")]),t._v(" "),a("ul",[a("li",[t._v("The "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/x/checkers/types/query.pb.go#L33-L35",target:"_blank",rel:"noopener noreferrer"}},[t._v("query parameters"),a("OutboundLink")],1),t._v(", as well as "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/x/checkers/types/query.pb.go#L501",target:"_blank",rel:"noopener noreferrer"}},[t._v("how to serialize"),a("OutboundLink")],1),t._v(" and make them conform to the right Protobuf "),a("a",{attrs:{href:"https://github.com/tendermint/tendermint/blob/1c34d17/abci/types/types.pb.go#L636-L641",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("RequestQuery")]),a("OutboundLink")],1),t._v(" interface.")]),t._v(" "),a("li",[t._v("The primary implementation of the gRPC service.")]),t._v(" "),a("li",[t._v("The implementation of all the storage "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/x/checkers/keeper/grpc_query_stored_game.go",target:"_blank",rel:"noopener noreferrer"}},[t._v("setters and getters"),a("OutboundLink")],1),t._v(" as extra functions in the keeper.")]),t._v(" "),a("li",[t._v("The implementation of the storage getters in the keeper "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/d2a72b4ca9064a7e3e5014ba204ed01a4fe81468/x/checkers/keeper/grpc_query_stored_game.go",target:"_blank",rel:"noopener noreferrer"}},[t._v("as they come from the gRPC server"),a("OutboundLink")],1),t._v(".")])]),t._v(" "),a("h2",{attrs:{id:"helper-functions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#helper-functions"}},[t._v("#")]),t._v(" Helper functions")]),t._v(" "),a("p",[t._v("Your stored game stores are only strings. But you know that they represent "),a("code",[t._v("sdk.AccAddress")]),t._v(" or even a game from the "),a("code",[t._v("rules")]),t._v(" file. You are going to do operations on them. So how about adding helper functions to "),a("code",[t._v("StoredGame")]),t._v("?")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Get the game "),a("code",[t._v("Creator")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-go [https://github.com/cosmos/b9-checkers-academy-draft/blob/3c69e22/x/checkers/types/full_game.go#L9-L12] extra-class"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("storedGame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("StoredGame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetCreatorAddress")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("creator sdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AccAddress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    creator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" errCreator "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" sdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("AccAddressFromBech32")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("storedGame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Creator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" creator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sdkerrors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Wrapf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("errCreator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ErrInvalidCreator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" storedGame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Creator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Plus the same for the "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/3c69e22/x/checkers/types/full_game.go#L14-L17",target:"_blank",rel:"noopener noreferrer"}},[t._v("red"),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://github.com/cosmos/b9-checkers-academy-draft/blob/3c69e22/x/checkers/types/full_game.go#L19-L22",target:"_blank",rel:"noopener noreferrer"}},[t._v("black"),a("OutboundLink")],1),t._v(" players.")])]),t._v(" "),a("li",[a("p",[t._v("Parse the game so that it can be played with. Notice how the "),a("code",[t._v("Turn")]),t._v(" has to be set by hand:")]),t._v(" "),a("div",{staticClass:"language-go [https://github.com/cosmos/b9-checkers-academy-draft/blob/3c69e22/x/checkers/types/full_game.go#L24-L33] extra-class"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("storedGame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("StoredGame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ParseGame")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("game "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("rules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Game"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    game"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" errGame "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" rules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("storedGame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Game"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" err "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" game"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sdkerrors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Wrapf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("errGame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ErrGameNotParseable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    game"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Turn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Player"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        Color"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" storedGame"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Turn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" game"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("This is a good place to introduce your own errors:")]),t._v(" "),a("div",{staticClass:"language-go [https://github.com/cosmos/b9-checkers-academy-draft/blob/3c69e2251f253288163021c75999709d8c25b402/x/checkers/types/errors.go#L11-L14] extra-class"},[a("pre",{pre:!0,attrs:{class:"language-go"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    ErrInvalidCreator   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sdkerrors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Register")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"creator address is invalid: %s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ErrInvalidRed       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sdkerrors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Register")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1101")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"red address is invalid: %s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ErrInvalidBlack     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sdkerrors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Register")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1102")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"black address is invalid: %s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ErrGameNotParseable "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" sdkerrors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Register")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ModuleName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1103")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"game cannot be parsed"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"next-up"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#next-up"}},[t._v("#")]),t._v(" Next up")]),t._v(" "),a("p",[t._v("Want to continue developing your checkers blockchain? In the "),a("RouterLink",{attrs:{to:"/academy/4-my-own-chain/create-message.html"}},[t._v("next section")]),t._v(" you will learn all about introducing an "),a("code",[t._v("sdk.Msg")]),t._v(" to create a game.")],1)],1)}),[],!1,null,null,null);e.default=n.exports}}]);