(window.webpackJsonp=window.webpackJsonp||[]).push([[170],{767:function(e,t,a){"use strict";a.r(t);var s=a(1),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"starport-serve"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#starport-serve"}},[e._v("#")]),e._v(" Starport serve")]),e._v(" "),a("p",[e._v("Having bootstrapped your application with starport you can use the Starport utility "),a("code",[e._v("starport serve")]),e._v(" to get your blockchain running. Make sure to include your "),a("code",[e._v("nametoken")]),e._v(" into your "),a("code",[e._v("config.yml")]),e._v(" file")]),e._v(" "),a("div",{staticClass:"language-yml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("accounts")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" user1\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("coins")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"1000token"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"100000000stake"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"10000nametoken"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" user2\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("coins")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"500token"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"1000nametoken"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("validator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" user1\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("staked")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"100000000stake"')]),e._v("\n")])])]),a("h1",{attrs:{id:"go-mod-and-makefile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#go-mod-and-makefile"}},[e._v("#")]),e._v(" go.mod and Makefile")]),e._v(" "),a("h2",{attrs:{id:"makefile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#makefile"}},[e._v("#")]),e._v(" "),a("code",[e._v("Makefile")])]),e._v(" "),a("p",[e._v("Help users build your application by writing a "),a("code",[e._v("./Makefile")]),e._v(" in the root directory that includes common commands. The scaffolding tool has created a generic makefile that you will be able to use:")]),e._v(" "),a("blockquote",[a("p",[a("em",[a("em",[e._v("NOTE")])]),e._v(": The below Makefile contains some of same commands as the Cosmos SDK and Tendermint Makefiles.")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("PACKAGES=$(shell go list ./... | grep -v '/simulation')\n\nVERSION := $(shell echo $(shell git describe --tags) | sed 's/^v//')\nCOMMIT := $(shell git log -1 --format='%H')\n\nldflags = -X github.com/cosmos/cosmos-sdk/version.Name=NameService \\\n\t-X github.com/cosmos/cosmos-sdk/version.ServerName=nameserviced \\\n\t-X github.com/cosmos/cosmos-sdk/version.ClientName=nameservicecli \\\n\t-X github.com/cosmos/cosmos-sdk/version.Version=$(VERSION) \\\n\t-X github.com/cosmos/cosmos-sdk/version.Commit=$(COMMIT) \n\nBUILD_FLAGS := -ldflags '$(ldflags)'\n\nall: install\n\ninstall: go.sum\n\t\t@echo \"--\x3e Installing nameserviced & nameservicecli\"\n\t\t@go install -mod=readonly $(BUILD_FLAGS) ./cmd/nameserviced\n\t\t@go install -mod=readonly $(BUILD_FLAGS) ./cmd/nameservicecli\n\ngo.sum: go.mod\n\t\t@echo \"--\x3e Ensure dependencies have not been modified\"\n\t\tGO111MODULE=on go mod verify\n\ntest:\n\t@go test -mod=readonly $(PACKAGES)\n")])])]),a("h3",{attrs:{id:"how-about-including-ledger-nano-s-support"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-about-including-ledger-nano-s-support"}},[e._v("#")]),e._v(" How about including Ledger Nano S support?")]),e._v(" "),a("p",[e._v("This requires a few small changes:")]),e._v(" "),a("ul",[a("li",[e._v("Create a file "),a("code",[e._v("Makefile.ledger")]),e._v(" with the following content:")])]),e._v(" "),a("p",[e._v("+++ https://github.com/cosmos/sdk-tutorials/blob/master/nameservice/Makefile.ledger")]),e._v(" "),a("ul",[a("li",[e._v("Add "),a("code",[e._v("include Makefile.ledger")]),e._v(" at the beginning of the Makefile:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("BUILD_FLAGS := -ldflags '$(ldflags)'\n\ninclude Makefile.ledger\nall: install\n")])])]),a("h2",{attrs:{id:"go-mod"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#go-mod"}},[e._v("#")]),e._v(" "),a("code",[e._v("go.mod")])]),e._v(" "),a("p",[e._v("Golang has a few dependency management tools. In this tutorial you will be using "),a("a",{attrs:{href:"https://github.com/golang/go/wiki/Modules",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("Go Modules")]),a("OutboundLink")],1),e._v(". "),a("code",[e._v("Go Modules")]),e._v(" uses a "),a("code",[e._v("go.mod")]),e._v(" file in the root of the repository to define what dependencies the application needs. Cosmos SDK apps currently depend on specific versions of some libraries. The below manifest contains all the necessary versions. To get started replace the contents of the "),a("code",[e._v("./go.mod")]),e._v(" file with the "),a("code",[e._v("constraints")]),e._v(" and "),a("code",[e._v("overrides")]),e._v(" below:")]),e._v(" "),a("blockquote",[a("p",[a("em",[a("em",[e._v("NOTE")])]),e._v(": If you are following along in your own repo you will need to change the module path to reflect that ("),a("code",[e._v("github.com/{ .Username }/{ .Project.Repo }")]),e._v(").")])]),e._v(" "),a("ul",[a("li",[e._v("You will have to run "),a("code",[e._v("go get ./...")]),e._v(" to get all the modules the application is using. This command will get the dependency version stated in the "),a("code",[e._v("go.mod")]),e._v(" file.")]),e._v(" "),a("li",[e._v("If you would like to use a specific version of a dependency then you have to run "),a("code",[e._v("go get github.com/<github_org>/<repo_name>@<version>")])])]),e._v(" "),a("h2",{attrs:{id:"building-the-app"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#building-the-app"}},[e._v("#")]),e._v(" Building the app")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Install the app into your $GOBIN")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("make")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Now you should be able to run the following commands:")]),e._v("\nnameserviced "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("help")]),e._v("\nnameservicecli "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("help")]),e._v("\n")])])]),a("h3",{attrs:{id:"congratulations-you-have-finished-your-nameservice-application-try-running-and-interacting-with-it"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#congratulations-you-have-finished-your-nameservice-application-try-running-and-interacting-with-it"}},[e._v("#")]),e._v(" Congratulations, you have finished your nameservice application! Try running and interacting with it!")])])}),[],!1,null,null,null);t.default=n.exports}}]);