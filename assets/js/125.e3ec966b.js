(window.webpackJsonp=window.webpackJsonp||[]).push([[125],{691:function(c,l,C){"use strict";C.r(l);var d=C(0),b=Object(d.a)({},(function(){var c=this,l=c.$createElement,C=c._self._c||l;return C("ContentSlotsDistributor",{attrs:{"slot-key":c.$parent.slotKey}},[C("h1",{attrs:{id:"cli"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#cli"}},[c._v("#")]),c._v(" CLI")]),c._v(" "),C("p",[c._v("A Command Line Interface (CLI) will help us interact with our app once it is running on a machine somewhere. Each Module has it's own namespace within the CLI that gives it the ability to create and sign Messages destined to be handled by that module. It also comes with the ability to query the state of that module. When combined with the rest of the app, the CLI will let you do things like generate keys for a new account or check the status of an interaction you already had with the application.")]),c._v(" "),C("p",[c._v("The CLI for our module is broken into two files called "),C("code",[c._v("tx.go")]),c._v(" and "),C("code",[c._v("query.go")]),c._v(" which are located in "),C("code",[c._v("./x/scavenge/client/cli/")]),c._v(". One file is for making transactions that contain messages which will ultimately update our state. The other is for making queries which will give us the ability to read information from our state. Both files utilize the "),C("a",{attrs:{href:"https://github.com/spf13/cobra",target:"_blank",rel:"noopener noreferrer"}},[c._v("Cobra"),C("OutboundLink")],1),c._v(" library.")]),c._v(" "),C("h2",{attrs:{id:"tx-go"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#tx-go"}},[c._v("#")]),c._v(" tx.go")]),c._v(" "),C("p",[c._v("The "),C("code",[c._v("tx.go")]),c._v(" file contains "),C("code",[c._v("GetTxCmd")]),c._v(" which is a standard method within the Cosmos SDK. It is referenced later in the "),C("code",[c._v("module.go")]),c._v(" file which describes exactly which attributes a modules has. This makes it easier to incorporate different modules for different reasons at the level of the actual application. After all, we are focusing on a module at this point, but later we will create an application that utilizes this module as well as other modules which are already available within the Cosmos SDK.")]),c._v(" "),C("p",[c._v("Inside "),C("code",[c._v("GetTxCmd")]),c._v(" we create a new module-specific command and call it "),C("code",[c._v("scavenge")]),c._v(". Within this command we add a sub-command for each Message type we've defined:")]),c._v(" "),C("ul",[C("li",[C("code",[c._v("GetCmdCreateScavenge")])]),c._v(" "),C("li",[C("code",[c._v("GetCmdCommitSolution")])]),c._v(" "),C("li",[C("code",[c._v("GetCmdRevealSolution")])])]),c._v(" "),C("p",[c._v("Each function takes parameters from the "),C("strong",[c._v("Cobra")]),c._v(" CLI tool to create a new msg, sign it and submit it to the application to be processed. These functions should go into the "),C("code",[c._v("tx.go")]),c._v(" and "),C("code",[c._v("tx<Type>.go")]),c._v(" files, and look as follows.")]),c._v(" "),C("h4",{attrs:{id:"scavenge-x-scavenge-client-cli-tx-go"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#scavenge-x-scavenge-client-cli-tx-go"}},[c._v("#")]),c._v(" "),C("code",[c._v("scavenge/x/scavenge/client/cli/tx.go")])]),c._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBjbGkKCmltcG9ydCAoCgkmcXVvdDtmbXQmcXVvdDsKCgkmcXVvdDtnaXRodWIuY29tL3NwZjEzL2NvYnJhJnF1b3Q7CgoJJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay9jbGllbnQmcXVvdDsKCSZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvY2xpZW50L2ZsYWdzJnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL2NvZGVjJnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL2dpdGh1Yi11c2VybmFtZS9zY2F2ZW5nZS94L3NjYXZlbmdlL3R5cGVzJnF1b3Q7CikKCi8vIEdldFR4Q21kIHJldHVybnMgdGhlIHRyYW5zYWN0aW9uIGNvbW1hbmRzIGZvciB0aGlzIG1vZHVsZQpmdW5jIEdldFR4Q21kKGNkYyAqY29kZWMuQ29kZWMpICpjb2JyYS5Db21tYW5kIHsKCXNjYXZlbmdlVHhDbWQgOj0gJmFtcDtjb2JyYS5Db21tYW5kewoJCVVzZTogICAgICAgICAgICAgICAgICAgICAgICB0eXBlcy5Nb2R1bGVOYW1lLAoJCVNob3J0OiAgICAgICAgICAgICAgICAgICAgICBmbXQuU3ByaW50ZigmcXVvdDslcyB0cmFuc2FjdGlvbnMgc3ViY29tbWFuZHMmcXVvdDssIHR5cGVzLk1vZHVsZU5hbWUpLAoJCURpc2FibGVGbGFnUGFyc2luZzogICAgICAgICB0cnVlLAoJCVN1Z2dlc3Rpb25zTWluaW11bURpc3RhbmNlOiAyLAoJCVJ1bkU6ICAgICAgICAgICAgICAgICAgICAgICBjbGllbnQuVmFsaWRhdGVDbWQsCgl9CgoJc2NhdmVuZ2VUeENtZC5BZGRDb21tYW5kKGZsYWdzLlBvc3RDb21tYW5kcygKCQkvLyB0aGlzIGxpbmUgaXMgdXNlZCBieSBzdGFycG9ydCBzY2FmZm9sZGluZyAjIDEKCQlHZXRDbWRDb21taXRTb2x1dGlvbihjZGMpLAoJCUdldENtZFJldmVhbFNvbHV0aW9uKGNkYyksCgkJR2V0Q21kU2V0Q29tbWl0KGNkYyksCgkJR2V0Q21kRGVsZXRlQ29tbWl0KGNkYyksCgkJR2V0Q21kQ3JlYXRlU2NhdmVuZ2UoY2RjKSwKCQlHZXRDbWRTZXRTY2F2ZW5nZShjZGMpLAoJCUdldENtZERlbGV0ZVNjYXZlbmdlKGNkYyksCgkpLi4uKQoKCXJldHVybiBzY2F2ZW5nZVR4Q21kCn0K"}}),c._v(" "),C("h4",{attrs:{id:"scavenge-x-scavenge-client-cli-txscavenge-go"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#scavenge-x-scavenge-client-cli-txscavenge-go"}},[c._v("#")]),c._v(" "),C("code",[c._v("scavenge/x/scavenge/client/cli/txScavenge.go")])]),c._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBjbGkKCmltcG9ydCAoCgkmcXVvdDtidWZpbyZxdW90OwoJJnF1b3Q7Y3J5cHRvL3NoYTI1NiZxdW90OwoJJnF1b3Q7ZW5jb2RpbmcvaGV4JnF1b3Q7CgoJJnF1b3Q7Z2l0aHViLmNvbS9zcGYxMy9jb2JyYSZxdW90OwoKCSZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvY2xpZW50L2NvbnRleHQmcXVvdDsKCSZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvY29kZWMmcXVvdDsKCXNkayAmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3R5cGVzJnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3gvYXV0aCZxdW90OwoJJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay94L2F1dGgvY2xpZW50L3V0aWxzJnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL2dpdGh1Yi11c2VybmFtZS9zY2F2ZW5nZS94L3NjYXZlbmdlL3R5cGVzJnF1b3Q7CikKCmZ1bmMgR2V0Q21kQ3JlYXRlU2NhdmVuZ2UoY2RjICpjb2RlYy5Db2RlYykgKmNvYnJhLkNvbW1hbmQgewoJcmV0dXJuICZhbXA7Y29icmEuQ29tbWFuZHsKCQlVc2U6ICAgJnF1b3Q7Y3JlYXRlLXNjYXZlbmdlIFtkZXNjcmlwdGlvbl0gW3NvbHV0aW9uXSBbcmV3YXJkXSZxdW90OywKCQlTaG9ydDogJnF1b3Q7Q3JlYXRlcyBhIG5ldyBzY2F2ZW5nZSZxdW90OywKCQlBcmdzOiAgY29icmEuRXhhY3RBcmdzKDMpLAoJCVJ1bkU6IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSBlcnJvciB7CgoJCQljbGlDdHggOj0gY29udGV4dC5OZXdDTElDb250ZXh0KCkuV2l0aENvZGVjKGNkYykKCQkJaW5CdWYgOj0gYnVmaW8uTmV3UmVhZGVyKGNtZC5Jbk9yU3RkaW4oKSkKCQkJdHhCbGRyIDo9IGF1dGguTmV3VHhCdWlsZGVyRnJvbUNMSShpbkJ1ZikuV2l0aFR4RW5jb2Rlcih1dGlscy5HZXRUeEVuY29kZXIoY2RjKSkKCgkJCXZhciBzb2x1dGlvbiA9IGFyZ3NbMV0KCQkJdmFyIHNvbHV0aW9uSGFzaCA9IHNoYTI1Ni5TdW0yNTYoW11ieXRlKHNvbHV0aW9uKSkKCQkJdmFyIHNvbHV0aW9uSGFzaFN0cmluZyA9IGhleC5FbmNvZGVUb1N0cmluZyhzb2x1dGlvbkhhc2hbOl0pCgoJCQlyZXdhcmQsIGVyciA6PSBzZGsuUGFyc2VDb2lucyhhcmdzWzJdKQoJCQlpZiBlcnIgIT0gbmlsIHsKCQkJCXJldHVybiBlcnIKCQkJfQoKCQkJbXNnIDo9IHR5cGVzLk5ld01zZ0NyZWF0ZVNjYXZlbmdlKGNsaUN0eC5HZXRGcm9tQWRkcmVzcygpLCBhcmdzWzBdLCBzb2x1dGlvbkhhc2hTdHJpbmcsIHJld2FyZCkKCQkJZXJyID0gbXNnLlZhbGlkYXRlQmFzaWMoKQoJCQlpZiBlcnIgIT0gbmlsIHsKCQkJCXJldHVybiBlcnIKCQkJfQoKCQkJcmV0dXJuIHV0aWxzLkdlbmVyYXRlT3JCcm9hZGNhc3RNc2dzKGNsaUN0eCwgdHhCbGRyLCBbXXNkay5Nc2d7bXNnfSkKCQl9LAoJfQp9CgpmdW5jIEdldENtZFJldmVhbFNvbHV0aW9uKGNkYyAqY29kZWMuQ29kZWMpICpjb2JyYS5Db21tYW5kIHsKCXJldHVybiAmYW1wO2NvYnJhLkNvbW1hbmR7CgkJVXNlOiAgICZxdW90O3JldmVhbC1zb2x1dGlvbiBbc29sdXRpb25dJnF1b3Q7LAoJCVNob3J0OiAmcXVvdDtSZXZlYWxzIGEgc29sdXRpb24gZm9yIHNjYXZlbmdlJnF1b3Q7LAoJCUFyZ3M6ICBjb2JyYS5FeGFjdEFyZ3MoMSksIC8vIERvZXMgeW91ciByZXF1ZXN0IHJlcXVpcmUgYXJndW1lbnRzCgkJUnVuRTogZnVuYyhjbWQgKmNvYnJhLkNvbW1hbmQsIGFyZ3MgW11zdHJpbmcpIGVycm9yIHsKCgkJCWNsaUN0eCA6PSBjb250ZXh0Lk5ld0NMSUNvbnRleHQoKS5XaXRoQ29kZWMoY2RjKQoJCQlpbkJ1ZiA6PSBidWZpby5OZXdSZWFkZXIoY21kLkluT3JTdGRpbigpKQoJCQl0eEJsZHIgOj0gYXV0aC5OZXdUeEJ1aWxkZXJGcm9tQ0xJKGluQnVmKS5XaXRoVHhFbmNvZGVyKHV0aWxzLkdldFR4RW5jb2RlcihjZGMpKQoKCQkJdmFyIHNvbHV0aW9uID0gYXJnc1swXQoKCQkJbXNnIDo9IHR5cGVzLk5ld01zZ1JldmVhbFNvbHV0aW9uKGNsaUN0eC5HZXRGcm9tQWRkcmVzcygpLCBzb2x1dGlvbikKCQkJZXJyIDo9IG1zZy5WYWxpZGF0ZUJhc2ljKCkKCQkJaWYgZXJyICE9IG5pbCB7CgkJCQlyZXR1cm4gZXJyCgkJCX0KCgkJCXJldHVybiB1dGlscy5HZW5lcmF0ZU9yQnJvYWRjYXN0TXNncyhjbGlDdHgsIHR4QmxkciwgW11zZGsuTXNne21zZ30pCgkJfSwKCX0KfQoKZnVuYyBHZXRDbWRTZXRTY2F2ZW5nZShjZGMgKmNvZGVjLkNvZGVjKSAqY29icmEuQ29tbWFuZCB7CglyZXR1cm4gJmFtcDtjb2JyYS5Db21tYW5kewoJCVVzZTogICAmcXVvdDtzZXQtc2NhdmVuZ2UgW2Rlc2NyaXB0aW9uXSBbc29sdXRpb25IYXNoXSBbcmV3YXJkXSBbc29sdXRpb25dIFtzY2F2ZW5nZXJdJnF1b3Q7LAoJCVNob3J0OiAmcXVvdDtTZXQgYSBuZXcgc2NhdmVuZ2UmcXVvdDssCgkJQXJnczogIGNvYnJhLkV4YWN0QXJncyg1KSwKCQlSdW5FOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykgZXJyb3IgewoJCQlhcmdzRGVzY3JpcHRpb24gOj0gc3RyaW5nKGFyZ3NbMF0pCgkJCWFyZ3NTb2x1dGlvbkhhc2ggOj0gc3RyaW5nKGFyZ3NbMV0pCgkJCWFyZ3NSZXdhcmQgOj0gc3RyaW5nKGFyZ3NbMl0pCgkJCWFyZ3NTb2x1dGlvbiA6PSBzdHJpbmcoYXJnc1szXSkKCQkJYXJnc1NjYXZlbmdlciA6PSBzdHJpbmcoYXJnc1s0XSkKCgkJCWNsaUN0eCA6PSBjb250ZXh0Lk5ld0NMSUNvbnRleHQoKS5XaXRoQ29kZWMoY2RjKQoJCQlpbkJ1ZiA6PSBidWZpby5OZXdSZWFkZXIoY21kLkluT3JTdGRpbigpKQoJCQl0eEJsZHIgOj0gYXV0aC5OZXdUeEJ1aWxkZXJGcm9tQ0xJKGluQnVmKS5XaXRoVHhFbmNvZGVyKHV0aWxzLkdldFR4RW5jb2RlcihjZGMpKQoJCQltc2cgOj0gdHlwZXMuTmV3TXNnU2V0U2NhdmVuZ2UoY2xpQ3R4LkdldEZyb21BZGRyZXNzKCksIHN0cmluZyhhcmdzRGVzY3JpcHRpb24pLCBzdHJpbmcoYXJnc1NvbHV0aW9uSGFzaCksIHN0cmluZyhhcmdzUmV3YXJkKSwgc3RyaW5nKGFyZ3NTb2x1dGlvbiksIHNkay5BY2NBZGRyZXNzKGFyZ3NTY2F2ZW5nZXIpKQoJCQllcnIgOj0gbXNnLlZhbGlkYXRlQmFzaWMoKQoJCQlpZiBlcnIgIT0gbmlsIHsKCQkJCXJldHVybiBlcnIKCQkJfQoJCQlyZXR1cm4gdXRpbHMuR2VuZXJhdGVPckJyb2FkY2FzdE1zZ3MoY2xpQ3R4LCB0eEJsZHIsIFtdc2RrLk1zZ3ttc2d9KQoJCX0sCgl9Cn0KCmZ1bmMgR2V0Q21kRGVsZXRlU2NhdmVuZ2UoY2RjICpjb2RlYy5Db2RlYykgKmNvYnJhLkNvbW1hbmQgewoJcmV0dXJuICZhbXA7Y29icmEuQ29tbWFuZHsKCQlVc2U6ICAgJnF1b3Q7ZGVsZXRlLXNjYXZlbmdlIHNvbHV0aW9uSGFzaCZxdW90OywKCQlTaG9ydDogJnF1b3Q7RGVsZXRlIGEgbmV3IHNjYXZlbmdlIGJ5IHNvbHV0aW9uSGFzaCZxdW90OywKCQlBcmdzOiAgY29icmEuRXhhY3RBcmdzKDEpLAoJCVJ1bkU6IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSBlcnJvciB7CgoJCQljbGlDdHggOj0gY29udGV4dC5OZXdDTElDb250ZXh0KCkuV2l0aENvZGVjKGNkYykKCQkJaW5CdWYgOj0gYnVmaW8uTmV3UmVhZGVyKGNtZC5Jbk9yU3RkaW4oKSkKCQkJdHhCbGRyIDo9IGF1dGguTmV3VHhCdWlsZGVyRnJvbUNMSShpbkJ1ZikuV2l0aFR4RW5jb2Rlcih1dGlscy5HZXRUeEVuY29kZXIoY2RjKSkKCgkJCW1zZyA6PSB0eXBlcy5OZXdNc2dEZWxldGVTY2F2ZW5nZShhcmdzWzBdLCBjbGlDdHguR2V0RnJvbUFkZHJlc3MoKSkKCQkJZXJyIDo9IG1zZy5WYWxpZGF0ZUJhc2ljKCkKCQkJaWYgZXJyICE9IG5pbCB7CgkJCQlyZXR1cm4gZXJyCgkJCX0KCQkJcmV0dXJuIHV0aWxzLkdlbmVyYXRlT3JCcm9hZGNhc3RNc2dzKGNsaUN0eCwgdHhCbGRyLCBbXXNkay5Nc2d7bXNnfSkKCQl9LAoJfQp9Cg=="}}),c._v(" "),C("h4",{attrs:{id:"scavenge-x-scavenge-client-cli-txcommit-go"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#scavenge-x-scavenge-client-cli-txcommit-go"}},[c._v("#")]),c._v(" "),C("code",[c._v("scavenge/x/scavenge/client/cli/txCommit.go")])]),c._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBjbGkKCmltcG9ydCAoCgkmcXVvdDtidWZpbyZxdW90OwoJJnF1b3Q7Y3J5cHRvL3NoYTI1NiZxdW90OwoJJnF1b3Q7ZW5jb2RpbmcvaGV4JnF1b3Q7CgoJJnF1b3Q7Z2l0aHViLmNvbS9zcGYxMy9jb2JyYSZxdW90OwoKCSZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvY2xpZW50L2NvbnRleHQmcXVvdDsKCSZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvY29kZWMmcXVvdDsKCXNkayAmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3R5cGVzJnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3gvYXV0aCZxdW90OwoJJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay94L2F1dGgvY2xpZW50L3V0aWxzJnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL2dpdGh1Yi11c2VybmFtZS9zY2F2ZW5nZS94L3NjYXZlbmdlL3R5cGVzJnF1b3Q7CikKCmZ1bmMgR2V0Q21kQ29tbWl0U29sdXRpb24oY2RjICpjb2RlYy5Db2RlYykgKmNvYnJhLkNvbW1hbmQgewoJcmV0dXJuICZhbXA7Y29icmEuQ29tbWFuZHsKCQlVc2U6ICAgJnF1b3Q7Y29tbWl0LXNvbHV0aW9uIFtzb2x1dGlvbl0mcXVvdDssCgkJU2hvcnQ6ICZxdW90O0NvbW1pdHMgYSBzb2x1dGlvbiBmb3Igc2NhdmVuZ2UmcXVvdDssCgkJQXJnczogIGNvYnJhLkV4YWN0QXJncygxKSwgLy8gRG9lcyB5b3VyIHJlcXVlc3QgcmVxdWlyZSBhcmd1bWVudHMKCQlSdW5FOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykgZXJyb3IgewoKCQkJY2xpQ3R4IDo9IGNvbnRleHQuTmV3Q0xJQ29udGV4dCgpLldpdGhDb2RlYyhjZGMpCgkJCWluQnVmIDo9IGJ1ZmlvLk5ld1JlYWRlcihjbWQuSW5PclN0ZGluKCkpCgkJCXR4QmxkciA6PSBhdXRoLk5ld1R4QnVpbGRlckZyb21DTEkoaW5CdWYpLldpdGhUeEVuY29kZXIodXRpbHMuR2V0VHhFbmNvZGVyKGNkYykpCgoJCQl2YXIgc29sdXRpb24gPSBhcmdzWzBdCgkJCXZhciBzb2x1dGlvbkhhc2ggPSBzaGEyNTYuU3VtMjU2KFtdYnl0ZShzb2x1dGlvbikpCgkJCXZhciBzb2x1dGlvbkhhc2hTdHJpbmcgPSBoZXguRW5jb2RlVG9TdHJpbmcoc29sdXRpb25IYXNoWzpdKQoKCQkJdmFyIHNjYXZlbmdlciA9IGNsaUN0eC5HZXRGcm9tQWRkcmVzcygpLlN0cmluZygpCgoJCQl2YXIgc29sdXRpb25TY2F2ZW5nZXJIYXNoID0gc2hhMjU2LlN1bTI1NihbXWJ5dGUoc29sdXRpb24gKyBzY2F2ZW5nZXIpKQoJCQl2YXIgc29sdXRpb25TY2F2ZW5nZXJIYXNoU3RyaW5nID0gaGV4LkVuY29kZVRvU3RyaW5nKHNvbHV0aW9uU2NhdmVuZ2VySGFzaFs6XSkKCgkJCW1zZyA6PSB0eXBlcy5OZXdNc2dDb21taXRTb2x1dGlvbihjbGlDdHguR2V0RnJvbUFkZHJlc3MoKSwgc29sdXRpb25IYXNoU3RyaW5nLCBzb2x1dGlvblNjYXZlbmdlckhhc2hTdHJpbmcpCgkJCWVyciA6PSBtc2cuVmFsaWRhdGVCYXNpYygpCgkJCWlmIGVyciAhPSBuaWwgewoJCQkJcmV0dXJuIGVycgoJCQl9CgkJCXJldHVybiB1dGlscy5HZW5lcmF0ZU9yQnJvYWRjYXN0TXNncyhjbGlDdHgsIHR4QmxkciwgW11zZGsuTXNne21zZ30pCgkJfSwKCX0KfQoKZnVuYyBHZXRDbWRTZXRDb21taXQoY2RjICpjb2RlYy5Db2RlYykgKmNvYnJhLkNvbW1hbmQgewoJcmV0dXJuICZhbXA7Y29icmEuQ29tbWFuZHsKCQlVc2U6ICAgJnF1b3Q7c2V0LWNvbW1pdCBbaWRdICBbc29sdXRpb25IYXNoXSBbc29sdXRpb25TY2F2ZW5nZXJIYXNoXSZxdW90OywKCQlTaG9ydDogJnF1b3Q7U2V0IGEgbmV3IGNvbW1pdCZxdW90OywKCQlBcmdzOiAgY29icmEuRXhhY3RBcmdzKDMpLAoJCVJ1bkU6IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSBlcnJvciB7CgkJCWlkIDo9IGFyZ3NbMF0KCQkJYXJnc1NvbHV0aW9uSGFzaCA6PSBzdHJpbmcoYXJnc1sxXSkKCQkJYXJnc1NvbHV0aW9uU2NhdmVuZ2VySGFzaCA6PSBzdHJpbmcoYXJnc1syXSkKCgkJCWNsaUN0eCA6PSBjb250ZXh0Lk5ld0NMSUNvbnRleHQoKS5XaXRoQ29kZWMoY2RjKQoJCQlpbkJ1ZiA6PSBidWZpby5OZXdSZWFkZXIoY21kLkluT3JTdGRpbigpKQoJCQl0eEJsZHIgOj0gYXV0aC5OZXdUeEJ1aWxkZXJGcm9tQ0xJKGluQnVmKS5XaXRoVHhFbmNvZGVyKHV0aWxzLkdldFR4RW5jb2RlcihjZGMpKQoJCQltc2cgOj0gdHlwZXMuTmV3TXNnU2V0Q29tbWl0KGNsaUN0eC5HZXRGcm9tQWRkcmVzcygpLCBpZCwgc3RyaW5nKGFyZ3NTb2x1dGlvbkhhc2gpLCBzdHJpbmcoYXJnc1NvbHV0aW9uU2NhdmVuZ2VySGFzaCkpCgkJCWVyciA6PSBtc2cuVmFsaWRhdGVCYXNpYygpCgkJCWlmIGVyciAhPSBuaWwgewoJCQkJcmV0dXJuIGVycgoJCQl9CgkJCXJldHVybiB1dGlscy5HZW5lcmF0ZU9yQnJvYWRjYXN0TXNncyhjbGlDdHgsIHR4QmxkciwgW11zZGsuTXNne21zZ30pCgkJfSwKCX0KfQoKZnVuYyBHZXRDbWREZWxldGVDb21taXQoY2RjICpjb2RlYy5Db2RlYykgKmNvYnJhLkNvbW1hbmQgewoJcmV0dXJuICZhbXA7Y29icmEuQ29tbWFuZHsKCQlVc2U6ICAgJnF1b3Q7ZGVsZXRlLWNvbW1pdCBbaWRdJnF1b3Q7LAoJCVNob3J0OiAmcXVvdDtEZWxldGUgYSBuZXcgY29tbWl0IGJ5IElEJnF1b3Q7LAoJCUFyZ3M6ICBjb2JyYS5FeGFjdEFyZ3MoMSksCgkJUnVuRTogZnVuYyhjbWQgKmNvYnJhLkNvbW1hbmQsIGFyZ3MgW11zdHJpbmcpIGVycm9yIHsKCgkJCWNsaUN0eCA6PSBjb250ZXh0Lk5ld0NMSUNvbnRleHQoKS5XaXRoQ29kZWMoY2RjKQoJCQlpbkJ1ZiA6PSBidWZpby5OZXdSZWFkZXIoY21kLkluT3JTdGRpbigpKQoJCQl0eEJsZHIgOj0gYXV0aC5OZXdUeEJ1aWxkZXJGcm9tQ0xJKGluQnVmKS5XaXRoVHhFbmNvZGVyKHV0aWxzLkdldFR4RW5jb2RlcihjZGMpKQoKCQkJbXNnIDo9IHR5cGVzLk5ld01zZ0RlbGV0ZUNvbW1pdChhcmdzWzBdLCBjbGlDdHguR2V0RnJvbUFkZHJlc3MoKSkKCQkJZXJyIDo9IG1zZy5WYWxpZGF0ZUJhc2ljKCkKCQkJaWYgZXJyICE9IG5pbCB7CgkJCQlyZXR1cm4gZXJyCgkJCX0KCQkJcmV0dXJuIHV0aWxzLkdlbmVyYXRlT3JCcm9hZGNhc3RNc2dzKGNsaUN0eCwgdHhCbGRyLCBbXXNkay5Nc2d7bXNnfSkKCQl9LAoJfQp9Cg=="}}),c._v(" "),C("h3",{attrs:{id:"sha256"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#sha256"}},[c._v("#")]),c._v(" sha256")]),c._v(" "),C("p",[c._v("Note that the "),C("code",[c._v("txScavenge")]),c._v(" and "),C("code",[c._v("txCommit")]),c._v(" files make use of the "),C("code",[c._v("sha256")]),c._v(" library for hashing our plain text solutions into the scrambled hashes. This activity takes place on the client side so the solutions are never leaked to any public entity which might want to sneak a peak and steal the bounty reward associated with the scavenges. You can also notice that the hashes are converted into hexadecimal representation to make them easy to read as strings (which is how they are ultimately stored in the keeper).")]),c._v(" "),C("h2",{attrs:{id:"query-go"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#query-go"}},[c._v("#")]),c._v(" query.go")]),c._v(" "),C("p",[c._v("The "),C("code",[c._v("query.go")]),c._v(" file contains similar "),C("strong",[c._v("Cobra")]),c._v(" commands that reserve a new name space for referencing our "),C("code",[c._v("scavenge")]),c._v(" module. However, instead of creating and submitting messages, the "),C("code",[c._v("query.go")]),c._v(" and "),C("code",[c._v("query<Type>.go")]),c._v(" files creates queries and returns the results in human readable form. The queries it handles are the same we defined in our "),C("code",[c._v("querier.go")]),c._v(" file earlier:")]),c._v(" "),C("ul",[C("li",[C("code",[c._v("GetCmdListCommit")])]),c._v(" "),C("li",[C("code",[c._v("GetCmdGetCommit")])]),c._v(" "),C("li",[C("code",[c._v("GetCmdListScavenge")])]),c._v(" "),C("li",[C("code",[c._v("GetCmdGetScavenge")])])]),c._v(" "),C("p",[c._v("After defining these commands, your files should look like:")]),c._v(" "),C("h4",{attrs:{id:"query-go-2"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#query-go-2"}},[c._v("#")]),c._v(" "),C("code",[c._v("query.go")])]),c._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBjbGkKCmltcG9ydCAoCgkmcXVvdDtmbXQmcXVvdDsKCS8vICZxdW90O3N0cmluZ3MmcXVvdDsKCgkmcXVvdDtnaXRodWIuY29tL3NwZjEzL2NvYnJhJnF1b3Q7CgoJJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay9jbGllbnQmcXVvdDsKCSZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvY2xpZW50L2ZsYWdzJnF1b3Q7CgoJLy8gJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay9jbGllbnQvY29udGV4dCZxdW90OwoJJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay9jb2RlYyZxdW90OwoJLy8gc2RrICZxdW90O2dpdGh1Yi5jb20vY29zbW9zL2Nvc21vcy1zZGsvdHlwZXMmcXVvdDsKCgkmcXVvdDtnaXRodWIuY29tL2dpdGh1Yi11c2VybmFtZS9zY2F2ZW5nZS94L3NjYXZlbmdlL3R5cGVzJnF1b3Q7CikKCi8vIEdldFF1ZXJ5Q21kIHJldHVybnMgdGhlIGNsaSBxdWVyeSBjb21tYW5kcyBmb3IgdGhpcyBtb2R1bGUKZnVuYyBHZXRRdWVyeUNtZChxdWVyeVJvdXRlIHN0cmluZywgY2RjICpjb2RlYy5Db2RlYykgKmNvYnJhLkNvbW1hbmQgewoJLy8gR3JvdXAgc2NhdmVuZ2UgcXVlcmllcyB1bmRlciBhIHN1YmNvbW1hbmQKCXNjYXZlbmdlUXVlcnlDbWQgOj0gJmFtcDtjb2JyYS5Db21tYW5kewoJCVVzZTogICAgICAgICAgICAgICAgICAgICAgICB0eXBlcy5Nb2R1bGVOYW1lLAoJCVNob3J0OiAgICAgICAgICAgICAgICAgICAgICBmbXQuU3ByaW50ZigmcXVvdDtRdWVyeWluZyBjb21tYW5kcyBmb3IgdGhlICVzIG1vZHVsZSZxdW90OywgdHlwZXMuTW9kdWxlTmFtZSksCgkJRGlzYWJsZUZsYWdQYXJzaW5nOiAgICAgICAgIHRydWUsCgkJU3VnZ2VzdGlvbnNNaW5pbXVtRGlzdGFuY2U6IDIsCgkJUnVuRTogICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5WYWxpZGF0ZUNtZCwKCX0KCglzY2F2ZW5nZVF1ZXJ5Q21kLkFkZENvbW1hbmQoCgkJZmxhZ3MuR2V0Q29tbWFuZHMoCiAgICAgIC8vIHRoaXMgbGluZSBpcyB1c2VkIGJ5IHN0YXJwb3J0IHNjYWZmb2xkaW5nICMgMQoJCQlHZXRDbWRMaXN0Q29tbWl0KHF1ZXJ5Um91dGUsIGNkYyksCgkJCUdldENtZEdldENvbW1pdChxdWVyeVJvdXRlLCBjZGMpLAoJCQlHZXRDbWRMaXN0U2NhdmVuZ2UocXVlcnlSb3V0ZSwgY2RjKSwKCQkJR2V0Q21kR2V0U2NhdmVuZ2UocXVlcnlSb3V0ZSwgY2RjKSwKCQkpLi4uLAoJKQoKCXJldHVybiBzY2F2ZW5nZVF1ZXJ5Q21kCn0K"}}),c._v(" "),C("h4",{attrs:{id:"queryscavenge-go"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#queryscavenge-go"}},[c._v("#")]),c._v(" "),C("code",[c._v("queryScavenge.go")])]),c._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBjbGkKCmltcG9ydCAoCgkmcXVvdDtmbXQmcXVvdDsKCgkmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL2NsaWVudC9jb250ZXh0JnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL2NvZGVjJnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL2dpdGh1Yi11c2VybmFtZS9zY2F2ZW5nZS94L3NjYXZlbmdlL3R5cGVzJnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL3NwZjEzL2NvYnJhJnF1b3Q7CikKCmZ1bmMgR2V0Q21kTGlzdFNjYXZlbmdlKHF1ZXJ5Um91dGUgc3RyaW5nLCBjZGMgKmNvZGVjLkNvZGVjKSAqY29icmEuQ29tbWFuZCB7CglyZXR1cm4gJmFtcDtjb2JyYS5Db21tYW5kewoJCVVzZTogICAmcXVvdDtsaXN0LXNjYXZlbmdlJnF1b3Q7LAoJCVNob3J0OiAmcXVvdDtsaXN0IGFsbCBzY2F2ZW5nZSZxdW90OywKCQlSdW5FOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykgZXJyb3IgewoJCQljbGlDdHggOj0gY29udGV4dC5OZXdDTElDb250ZXh0KCkuV2l0aENvZGVjKGNkYykKCQkJcmVzLCBfLCBlcnIgOj0gY2xpQ3R4LlF1ZXJ5V2l0aERhdGEoZm10LlNwcmludGYoJnF1b3Q7Y3VzdG9tLyVzLyZxdW90Oyt0eXBlcy5RdWVyeUxpc3RTY2F2ZW5nZSwgcXVlcnlSb3V0ZSksIG5pbCkKCQkJaWYgZXJyICE9IG5pbCB7CgkJCQlmbXQuUHJpbnRmKCZxdW90O2NvdWxkIG5vdCBsaXN0IFNjYXZlbmdlXG4lc1xuJnF1b3Q7LCBlcnIuRXJyb3IoKSkKCQkJCXJldHVybiBuaWwKCQkJfQoJCQl2YXIgb3V0IFtddHlwZXMuU2NhdmVuZ2UKCQkJY2RjLk11c3RVbm1hcnNoYWxKU09OKHJlcywgJmFtcDtvdXQpCgkJCXJldHVybiBjbGlDdHguUHJpbnRPdXRwdXQob3V0KQoJCX0sCgl9Cn0KCmZ1bmMgR2V0Q21kR2V0U2NhdmVuZ2UocXVlcnlSb3V0ZSBzdHJpbmcsIGNkYyAqY29kZWMuQ29kZWMpICpjb2JyYS5Db21tYW5kIHsKCXJldHVybiAmYW1wO2NvYnJhLkNvbW1hbmR7CgkJVXNlOiAgICZxdW90O2dldC1zY2F2ZW5nZSBbc29sdXRpb25IYXNoXSZxdW90OywKCQlTaG9ydDogJnF1b3Q7UXVlcnkgYSBzY2F2ZW5nZSBieSBzb2x1dGlvbkhhc2gmcXVvdDssCgkJQXJnczogIGNvYnJhLkV4YWN0QXJncygxKSwKCQlSdW5FOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykgZXJyb3IgewoJCQljbGlDdHggOj0gY29udGV4dC5OZXdDTElDb250ZXh0KCkuV2l0aENvZGVjKGNkYykKCQkJc29sdXRpb25IYXNoIDo9IGFyZ3NbMF0KCgkJCXJlcywgXywgZXJyIDo9IGNsaUN0eC5RdWVyeVdpdGhEYXRhKGZtdC5TcHJpbnRmKCZxdW90O2N1c3RvbS8lcy8lcy8lcyZxdW90OywgcXVlcnlSb3V0ZSwgdHlwZXMuUXVlcnlHZXRTY2F2ZW5nZSwgc29sdXRpb25IYXNoKSwgbmlsKQoJCQlpZiBlcnIgIT0gbmlsIHsKCQkJCWZtdC5QcmludGYoJnF1b3Q7Y291bGQgbm90IHJlc29sdmUgc2NhdmVuZ2UgJXMgXG4lc1xuJnF1b3Q7LCBzb2x1dGlvbkhhc2gsIGVyci5FcnJvcigpKQoKCQkJCXJldHVybiBuaWwKCQkJfQoKCQkJdmFyIG91dCB0eXBlcy5TY2F2ZW5nZQoJCQljZGMuTXVzdFVubWFyc2hhbEpTT04ocmVzLCAmYW1wO291dCkKCQkJcmV0dXJuIGNsaUN0eC5QcmludE91dHB1dChvdXQpCgkJfSwKCX0KfQo="}}),c._v(" "),C("h4",{attrs:{id:"querycommit-go"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#querycommit-go"}},[c._v("#")]),c._v(" "),C("code",[c._v("queryCommit.go")])]),c._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSBjbGkKCmltcG9ydCAoCgkmcXVvdDtmbXQmcXVvdDsKCgkmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL2NsaWVudC9jb250ZXh0JnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL2NvZGVjJnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL3NwZjEzL2NvYnJhJnF1b3Q7CiAgICAmcXVvdDtnaXRodWIuY29tL2dpdGh1Yi11c2VybmFtZS9zY2F2ZW5nZS94L3NjYXZlbmdlL3R5cGVzJnF1b3Q7CikKCmZ1bmMgR2V0Q21kTGlzdENvbW1pdChxdWVyeVJvdXRlIHN0cmluZywgY2RjICpjb2RlYy5Db2RlYykgKmNvYnJhLkNvbW1hbmQgewoJcmV0dXJuICZhbXA7Y29icmEuQ29tbWFuZHsKCQlVc2U6ICAgJnF1b3Q7bGlzdC1jb21taXQmcXVvdDssCgkJU2hvcnQ6ICZxdW90O2xpc3QgYWxsIGNvbW1pdCZxdW90OywKCQlSdW5FOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykgZXJyb3IgewoJCQljbGlDdHggOj0gY29udGV4dC5OZXdDTElDb250ZXh0KCkuV2l0aENvZGVjKGNkYykKCQkJcmVzLCBfLCBlcnIgOj0gY2xpQ3R4LlF1ZXJ5V2l0aERhdGEoZm10LlNwcmludGYoJnF1b3Q7Y3VzdG9tLyVzLyZxdW90Oyt0eXBlcy5RdWVyeUxpc3RDb21taXQsIHF1ZXJ5Um91dGUpLCBuaWwpCgkJCWlmIGVyciAhPSBuaWwgewoJCQkJZm10LlByaW50ZigmcXVvdDtjb3VsZCBub3QgbGlzdCBDb21taXRcbiVzXG4mcXVvdDssIGVyci5FcnJvcigpKQoJCQkJcmV0dXJuIG5pbAoJCQl9CgkJCXZhciBvdXQgW110eXBlcy5Db21taXQKCQkJY2RjLk11c3RVbm1hcnNoYWxKU09OKHJlcywgJmFtcDtvdXQpCgkJCXJldHVybiBjbGlDdHguUHJpbnRPdXRwdXQob3V0KQoJCX0sCgl9Cn0KCmZ1bmMgR2V0Q21kR2V0Q29tbWl0KHF1ZXJ5Um91dGUgc3RyaW5nLCBjZGMgKmNvZGVjLkNvZGVjKSAqY29icmEuQ29tbWFuZCB7CglyZXR1cm4gJmFtcDtjb2JyYS5Db21tYW5kewoJCVVzZTogICAmcXVvdDtnZXQtY29tbWl0IFtrZXldJnF1b3Q7LAoJCVNob3J0OiAmcXVvdDtRdWVyeSBhIGNvbW1pdCBieSBrZXkmcXVvdDssCgkJQXJnczogIGNvYnJhLkV4YWN0QXJncygxKSwKCQlSdW5FOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykgZXJyb3IgewoJCQljbGlDdHggOj0gY29udGV4dC5OZXdDTElDb250ZXh0KCkuV2l0aENvZGVjKGNkYykKCQkJa2V5IDo9IGFyZ3NbMF0KCgkJCXJlcywgXywgZXJyIDo9IGNsaUN0eC5RdWVyeVdpdGhEYXRhKGZtdC5TcHJpbnRmKCZxdW90O2N1c3RvbS8lcy8lcy8lcyZxdW90OywgcXVlcnlSb3V0ZSwgdHlwZXMuUXVlcnlHZXRDb21taXQsIGtleSksIG5pbCkKCQkJaWYgZXJyICE9IG5pbCB7CgkJCQlmbXQuUHJpbnRmKCZxdW90O2NvdWxkIG5vdCByZXNvbHZlIGNvbW1pdCAlcyBcbiVzXG4mcXVvdDssIGtleSwgZXJyLkVycm9yKCkpCgoJCQkJcmV0dXJuIG5pbAoJCQl9CgoJCQl2YXIgb3V0IHR5cGVzLkNvbW1pdAoJCQljZGMuTXVzdFVubWFyc2hhbEpTT04ocmVzLCAmYW1wO291dCkKCQkJcmV0dXJuIGNsaUN0eC5QcmludE91dHB1dChvdXQpCgkJfSwKCX0KfQo="}}),c._v(" "),C("h2",{attrs:{id:"rest"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#rest"}},[c._v("#")]),c._v(" REST")]),c._v(" "),C("p",[c._v("The rest endpoints need to get updated according to our application")]),c._v(" "),C("h4",{attrs:{id:"rest-txcommit-go"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#rest-txcommit-go"}},[c._v("#")]),c._v(" "),C("code",[c._v("rest/txCommit.go")])]),c._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSByZXN0CgppbXBvcnQgKAoJJnF1b3Q7bmV0L2h0dHAmcXVvdDsKCSZxdW90O3N0cmNvbnYmcXVvdDsKCgkmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL2NsaWVudC9jb250ZXh0JnF1b3Q7CglzZGsgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay90eXBlcyZxdW90OwoJJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay90eXBlcy9yZXN0JnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3gvYXV0aC9jbGllbnQvdXRpbHMmcXVvdDsKCSZxdW90O2dpdGh1Yi5jb20vZ2l0aHViLXVzZXJuYW1lL3NjYXZlbmdlL3gvc2NhdmVuZ2UvdHlwZXMmcXVvdDsKKQoKLy8gVXNlZCB0byBub3QgaGF2ZSBhbiBlcnJvciBpZiBzdHJjb252IGlzIHVudXNlZAp2YXIgXyA9IHN0cmNvbnYuSXRvYSg0MikKCnR5cGUgY3JlYXRlQ29tbWl0UmVxdWVzdCBzdHJ1Y3QgewoJQmFzZVJlcSAgICAgICAgICAgICAgIHJlc3QuQmFzZVJlcSBganNvbjomcXVvdDtiYXNlX3JlcSZxdW90O2AKCVNjYXZlbmdlciAgICAgICAgICAgICBzdHJpbmcgICAgICAgYGpzb246JnF1b3Q7c2NhdmVuZ2VyJnF1b3Q7YAoJU29sdXRpb25IYXNoICAgICAgICAgIHN0cmluZyAgICAgICBganNvbjomcXVvdDtzb2x1dGlvbkhhc2gmcXVvdDtgCglTb2x1dGlvblNjYXZlbmdlckhhc2ggc3RyaW5nICAgICAgIGBqc29uOiZxdW90O3NvbHV0aW9uU2NhdmVuZ2VySGFzaCZxdW90O2AKfQoKZnVuYyBjcmVhdGVDb21taXRIYW5kbGVyKGNsaUN0eCBjb250ZXh0LkNMSUNvbnRleHQpIGh0dHAuSGFuZGxlckZ1bmMgewoJcmV0dXJuIGZ1bmModyBodHRwLlJlc3BvbnNlV3JpdGVyLCByICpodHRwLlJlcXVlc3QpIHsKCQl2YXIgcmVxIGNyZWF0ZUNvbW1pdFJlcXVlc3QKCQlpZiAhcmVzdC5SZWFkUkVTVFJlcSh3LCByLCBjbGlDdHguQ29kZWMsICZhbXA7cmVxKSB7CgkJCXJlc3QuV3JpdGVFcnJvclJlc3BvbnNlKHcsIGh0dHAuU3RhdHVzQmFkUmVxdWVzdCwgJnF1b3Q7ZmFpbGVkIHRvIHBhcnNlIHJlcXVlc3QmcXVvdDspCgkJCXJldHVybgoJCX0KCQliYXNlUmVxIDo9IHJlcS5CYXNlUmVxLlNhbml0aXplKCkKCQlpZiAhYmFzZVJlcS5WYWxpZGF0ZUJhc2ljKHcpIHsKCQkJcmV0dXJuCgkJfQoJCXNjYXZlbmdlciwgZXJyIDo9IHNkay5BY2NBZGRyZXNzRnJvbUJlY2gzMihyZXEuU2NhdmVuZ2VyKQoJCWlmIGVyciAhPSBuaWwgewoJCQlyZXN0LldyaXRlRXJyb3JSZXNwb25zZSh3LCBodHRwLlN0YXR1c0JhZFJlcXVlc3QsIGVyci5FcnJvcigpKQoJCQlyZXR1cm4KCQl9CgoJCXBhcnNlZFNvbHV0aW9uSGFzaCA6PSByZXEuU29sdXRpb25IYXNoCgoJCXBhcnNlZFNvbHV0aW9uU2NhdmVuZ2VySGFzaCA6PSByZXEuU29sdXRpb25TY2F2ZW5nZXJIYXNoCgoJCW1zZyA6PSB0eXBlcy5OZXdNc2dDb21taXRTb2x1dGlvbigKCQkJc2NhdmVuZ2VyLAoJCQlwYXJzZWRTb2x1dGlvbkhhc2gsCgkJCXBhcnNlZFNvbHV0aW9uU2NhdmVuZ2VySGFzaCwKCQkpCgoJCWVyciA9IG1zZy5WYWxpZGF0ZUJhc2ljKCkKCQlpZiBlcnIgIT0gbmlsIHsKCQkJcmVzdC5Xcml0ZUVycm9yUmVzcG9uc2UodywgaHR0cC5TdGF0dXNCYWRSZXF1ZXN0LCBlcnIuRXJyb3IoKSkKCQkJcmV0dXJuCgkJfQoKCQl1dGlscy5Xcml0ZUdlbmVyYXRlU3RkVHhSZXNwb25zZSh3LCBjbGlDdHgsIGJhc2VSZXEsIFtdc2RrLk1zZ3ttc2d9KQoJfQp9Cgp0eXBlIHNldENvbW1pdFJlcXVlc3Qgc3RydWN0IHsKCUJhc2VSZXEgICAgICAgICAgICAgICByZXN0LkJhc2VSZXEgYGpzb246JnF1b3Q7YmFzZV9yZXEmcXVvdDtgCglTY2F2ZW5nZXIgICAgICAgICAgICAgc3RyaW5nICAgICAgIGBqc29uOiZxdW90O3NjYXZlbmdlciZxdW90O2AKCVNvbHV0aW9uSGFzaCAgICAgICAgICBzdHJpbmcgICAgICAgYGpzb246JnF1b3Q7c29sdXRpb25IYXNoJnF1b3Q7YAoJU29sdXRpb25TY2F2ZW5nZXJIYXNoIHN0cmluZyAgICAgICBganNvbjomcXVvdDtzb2x1dGlvblNjYXZlbmdlckhhc2gmcXVvdDtgCn0KCmZ1bmMgc2V0Q29tbWl0SGFuZGxlcihjbGlDdHggY29udGV4dC5DTElDb250ZXh0KSBodHRwLkhhbmRsZXJGdW5jIHsKCXJldHVybiBmdW5jKHcgaHR0cC5SZXNwb25zZVdyaXRlciwgciAqaHR0cC5SZXF1ZXN0KSB7CgkJdmFyIHJlcSBzZXRDb21taXRSZXF1ZXN0CgkJaWYgIXJlc3QuUmVhZFJFU1RSZXEodywgciwgY2xpQ3R4LkNvZGVjLCAmYW1wO3JlcSkgewoJCQlyZXN0LldyaXRlRXJyb3JSZXNwb25zZSh3LCBodHRwLlN0YXR1c0JhZFJlcXVlc3QsICZxdW90O2ZhaWxlZCB0byBwYXJzZSByZXF1ZXN0JnF1b3Q7KQoJCQlyZXR1cm4KCQl9CgkJYmFzZVJlcSA6PSByZXEuQmFzZVJlcS5TYW5pdGl6ZSgpCgkJaWYgIWJhc2VSZXEuVmFsaWRhdGVCYXNpYyh3KSB7CgkJCXJldHVybgoJCX0KCQlzY2F2ZW5nZXIsIGVyciA6PSBzZGsuQWNjQWRkcmVzc0Zyb21CZWNoMzIocmVxLlNjYXZlbmdlcikKCQlpZiBlcnIgIT0gbmlsIHsKCQkJcmVzdC5Xcml0ZUVycm9yUmVzcG9uc2UodywgaHR0cC5TdGF0dXNCYWRSZXF1ZXN0LCBlcnIuRXJyb3IoKSkKCQkJcmV0dXJuCgkJfQoKCQlwYXJzZWRTb2x1dGlvbkhhc2ggOj0gcmVxLlNvbHV0aW9uSGFzaAoKCQlwYXJzZWRTb2x1dGlvblNjYXZlbmdlckhhc2ggOj0gcmVxLlNvbHV0aW9uU2NhdmVuZ2VySGFzaAoKCQltc2cgOj0gdHlwZXMuTmV3TXNnU2V0Q29tbWl0KAoJCQlzY2F2ZW5nZXIsCgkJCXJlcS5Tb2x1dGlvbkhhc2gsCgkJCXBhcnNlZFNvbHV0aW9uSGFzaCwKCQkJcGFyc2VkU29sdXRpb25TY2F2ZW5nZXJIYXNoLAoJCSkKCgkJZXJyID0gbXNnLlZhbGlkYXRlQmFzaWMoKQoJCWlmIGVyciAhPSBuaWwgewoJCQlyZXN0LldyaXRlRXJyb3JSZXNwb25zZSh3LCBodHRwLlN0YXR1c0JhZFJlcXVlc3QsIGVyci5FcnJvcigpKQoJCQlyZXR1cm4KCQl9CgoJCXV0aWxzLldyaXRlR2VuZXJhdGVTdGRUeFJlc3BvbnNlKHcsIGNsaUN0eCwgYmFzZVJlcSwgW11zZGsuTXNne21zZ30pCgl9Cn0KCnR5cGUgZGVsZXRlQ29tbWl0UmVxdWVzdCBzdHJ1Y3QgewoJQmFzZVJlcSByZXN0LkJhc2VSZXEgYGpzb246JnF1b3Q7YmFzZV9yZXEmcXVvdDtgCglDcmVhdG9yIHN0cmluZyAgICAgICBganNvbjomcXVvdDtjcmVhdG9yJnF1b3Q7YAoJSUQgICAgICBzdHJpbmcgICAgICAgYGpzb246JnF1b3Q7aWQmcXVvdDtgCn0KCmZ1bmMgZGVsZXRlQ29tbWl0SGFuZGxlcihjbGlDdHggY29udGV4dC5DTElDb250ZXh0KSBodHRwLkhhbmRsZXJGdW5jIHsKCXJldHVybiBmdW5jKHcgaHR0cC5SZXNwb25zZVdyaXRlciwgciAqaHR0cC5SZXF1ZXN0KSB7CgkJdmFyIHJlcSBkZWxldGVDb21taXRSZXF1ZXN0CgkJaWYgIXJlc3QuUmVhZFJFU1RSZXEodywgciwgY2xpQ3R4LkNvZGVjLCAmYW1wO3JlcSkgewoJCQlyZXN0LldyaXRlRXJyb3JSZXNwb25zZSh3LCBodHRwLlN0YXR1c0JhZFJlcXVlc3QsICZxdW90O2ZhaWxlZCB0byBwYXJzZSByZXF1ZXN0JnF1b3Q7KQoJCQlyZXR1cm4KCQl9CgkJYmFzZVJlcSA6PSByZXEuQmFzZVJlcS5TYW5pdGl6ZSgpCgkJaWYgIWJhc2VSZXEuVmFsaWRhdGVCYXNpYyh3KSB7CgkJCXJldHVybgoJCX0KCQljcmVhdG9yLCBlcnIgOj0gc2RrLkFjY0FkZHJlc3NGcm9tQmVjaDMyKHJlcS5DcmVhdG9yKQoJCWlmIGVyciAhPSBuaWwgewoJCQlyZXN0LldyaXRlRXJyb3JSZXNwb25zZSh3LCBodHRwLlN0YXR1c0JhZFJlcXVlc3QsIGVyci5FcnJvcigpKQoJCQlyZXR1cm4KCQl9CgkJbXNnIDo9IHR5cGVzLk5ld01zZ0RlbGV0ZUNvbW1pdChyZXEuSUQsIGNyZWF0b3IpCgoJCWVyciA9IG1zZy5WYWxpZGF0ZUJhc2ljKCkKCQlpZiBlcnIgIT0gbmlsIHsKCQkJcmVzdC5Xcml0ZUVycm9yUmVzcG9uc2UodywgaHR0cC5TdGF0dXNCYWRSZXF1ZXN0LCBlcnIuRXJyb3IoKSkKCQkJcmV0dXJuCgkJfQoKCQl1dGlscy5Xcml0ZUdlbmVyYXRlU3RkVHhSZXNwb25zZSh3LCBjbGlDdHgsIGJhc2VSZXEsIFtdc2RrLk1zZ3ttc2d9KQoJfQp9Cg=="}}),c._v(" "),C("h4",{attrs:{id:"rest-txscavenge-go"}},[C("a",{staticClass:"header-anchor",attrs:{href:"#rest-txscavenge-go"}},[c._v("#")]),c._v(" "),C("code",[c._v("rest/txScavenge.go")])]),c._v(" "),C("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"cGFja2FnZSByZXN0CgppbXBvcnQgKAoJJnF1b3Q7bmV0L2h0dHAmcXVvdDsKCSZxdW90O3N0cmNvbnYmcXVvdDsKCgkmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL2NsaWVudC9jb250ZXh0JnF1b3Q7CglzZGsgJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay90eXBlcyZxdW90OwoJJnF1b3Q7Z2l0aHViLmNvbS9jb3Ntb3MvY29zbW9zLXNkay90eXBlcy9yZXN0JnF1b3Q7CgkmcXVvdDtnaXRodWIuY29tL2Nvc21vcy9jb3Ntb3Mtc2RrL3gvYXV0aC9jbGllbnQvdXRpbHMmcXVvdDsKCSZxdW90O2dpdGh1Yi5jb20vZ2l0aHViLXVzZXJuYW1lL3NjYXZlbmdlL3gvc2NhdmVuZ2UvdHlwZXMmcXVvdDsKKQoKLy8gVXNlZCB0byBub3QgaGF2ZSBhbiBlcnJvciBpZiBzdHJjb252IGlzIHVudXNlZAp2YXIgXyA9IHN0cmNvbnYuSXRvYSg0MikKCnR5cGUgY3JlYXRlU2NhdmVuZ2VSZXF1ZXN0IHN0cnVjdCB7CglCYXNlUmVxICAgICAgcmVzdC5CYXNlUmVxICAgYGpzb246JnF1b3Q7YmFzZV9yZXEmcXVvdDtgCglDcmVhdG9yICAgICAgc3RyaW5nICAgICAgICAgYGpzb246JnF1b3Q7Y3JlYXRvciZxdW90O2AKCURlc2NyaXB0aW9uICBzdHJpbmcgICAgICAgICBganNvbjomcXVvdDtkZXNjcmlwdGlvbiZxdW90O2AKCVNvbHV0aW9uSGFzaCBzdHJpbmcgICAgICAgICBganNvbjomcXVvdDtzb2x1dGlvbkhhc2gmcXVvdDtgCglSZXdhcmQgICAgICAgc2RrLkNvaW5zICAgICAgYGpzb246JnF1b3Q7cmV3YXJkJnF1b3Q7YAoJU2NhdmVuZ2VyICAgIHNkay5BY2NBZGRyZXNzIGBqc29uOiZxdW90O2NyZWF0b3ImcXVvdDtgCn0KCmZ1bmMgY3JlYXRlU2NhdmVuZ2VIYW5kbGVyKGNsaUN0eCBjb250ZXh0LkNMSUNvbnRleHQpIGh0dHAuSGFuZGxlckZ1bmMgewoJcmV0dXJuIGZ1bmModyBodHRwLlJlc3BvbnNlV3JpdGVyLCByICpodHRwLlJlcXVlc3QpIHsKCQl2YXIgcmVxIGNyZWF0ZVNjYXZlbmdlUmVxdWVzdAoJCWlmICFyZXN0LlJlYWRSRVNUUmVxKHcsIHIsIGNsaUN0eC5Db2RlYywgJmFtcDtyZXEpIHsKCQkJcmVzdC5Xcml0ZUVycm9yUmVzcG9uc2UodywgaHR0cC5TdGF0dXNCYWRSZXF1ZXN0LCAmcXVvdDtmYWlsZWQgdG8gcGFyc2UgcmVxdWVzdCZxdW90OykKCQkJcmV0dXJuCgkJfQoJCWJhc2VSZXEgOj0gcmVxLkJhc2VSZXEuU2FuaXRpemUoKQoJCWlmICFiYXNlUmVxLlZhbGlkYXRlQmFzaWModykgewoJCQlyZXR1cm4KCQl9CgkJY3JlYXRvciwgZXJyIDo9IHNkay5BY2NBZGRyZXNzRnJvbUJlY2gzMihyZXEuQ3JlYXRvcikKCQlpZiBlcnIgIT0gbmlsIHsKCQkJcmVzdC5Xcml0ZUVycm9yUmVzcG9uc2UodywgaHR0cC5TdGF0dXNCYWRSZXF1ZXN0LCBlcnIuRXJyb3IoKSkKCQkJcmV0dXJuCgkJfQoKCQlwYXJzZWREZXNjcmlwdGlvbiA6PSByZXEuRGVzY3JpcHRpb24KCgkJcGFyc2VkU29sdXRpb25IYXNoIDo9IHJlcS5Tb2x1dGlvbkhhc2gKCgkJcGFyc2VkUmV3YXJkIDo9IHJlcS5SZXdhcmQKCgkJbXNnIDo9IHR5cGVzLk5ld01zZ0NyZWF0ZVNjYXZlbmdlKAoJCQljcmVhdG9yLAoJCQlwYXJzZWREZXNjcmlwdGlvbiwKCQkJcGFyc2VkU29sdXRpb25IYXNoLAoJCQlwYXJzZWRSZXdhcmQsCgkJKQoKCQllcnIgPSBtc2cuVmFsaWRhdGVCYXNpYygpCgkJaWYgZXJyICE9IG5pbCB7CgkJCXJlc3QuV3JpdGVFcnJvclJlc3BvbnNlKHcsIGh0dHAuU3RhdHVzQmFkUmVxdWVzdCwgZXJyLkVycm9yKCkpCgkJCXJldHVybgoJCX0KCgkJdXRpbHMuV3JpdGVHZW5lcmF0ZVN0ZFR4UmVzcG9uc2UodywgY2xpQ3R4LCBiYXNlUmVxLCBbXXNkay5Nc2d7bXNnfSkKCX0KfQoKdHlwZSBzZXRTY2F2ZW5nZVJlcXVlc3Qgc3RydWN0IHsKCUJhc2VSZXEgICAgICByZXN0LkJhc2VSZXEgICBganNvbjomcXVvdDtiYXNlX3JlcSZxdW90O2AKCUlEICAgICAgICAgICBzdHJpbmcgICAgICAgICBganNvbjomcXVvdDtpZCZxdW90O2AKCUNyZWF0b3IgICAgICBzdHJpbmcgICAgICAgICBganNvbjomcXVvdDtjcmVhdG9yJnF1b3Q7YAoJRGVzY3JpcHRpb24gIHN0cmluZyAgICAgICAgIGBqc29uOiZxdW90O2Rlc2NyaXB0aW9uJnF1b3Q7YAoJU29sdXRpb25IYXNoIHN0cmluZyAgICAgICAgIGBqc29uOiZxdW90O3NvbHV0aW9uSGFzaCZxdW90O2AKCVJld2FyZCAgICAgICBzdHJpbmcgICAgICAgICBganNvbjomcXVvdDtyZXdhcmQmcXVvdDtgCglTb2x1dGlvbiAgICAgc3RyaW5nICAgICAgICAgYGpzb246JnF1b3Q7c29sdXRpb24mcXVvdDtgCglTY2F2ZW5nZXIgICAgc2RrLkFjY0FkZHJlc3MgYGpzb246JnF1b3Q7c2NhdmVuZ2VyJnF1b3Q7YAp9CgpmdW5jIHNldFNjYXZlbmdlSGFuZGxlcihjbGlDdHggY29udGV4dC5DTElDb250ZXh0KSBodHRwLkhhbmRsZXJGdW5jIHsKCXJldHVybiBmdW5jKHcgaHR0cC5SZXNwb25zZVdyaXRlciwgciAqaHR0cC5SZXF1ZXN0KSB7CgkJdmFyIHJlcSBzZXRTY2F2ZW5nZVJlcXVlc3QKCQlpZiAhcmVzdC5SZWFkUkVTVFJlcSh3LCByLCBjbGlDdHguQ29kZWMsICZhbXA7cmVxKSB7CgkJCXJlc3QuV3JpdGVFcnJvclJlc3BvbnNlKHcsIGh0dHAuU3RhdHVzQmFkUmVxdWVzdCwgJnF1b3Q7ZmFpbGVkIHRvIHBhcnNlIHJlcXVlc3QmcXVvdDspCgkJCXJldHVybgoJCX0KCQliYXNlUmVxIDo9IHJlcS5CYXNlUmVxLlNhbml0aXplKCkKCQlpZiAhYmFzZVJlcS5WYWxpZGF0ZUJhc2ljKHcpIHsKCQkJcmV0dXJuCgkJfQoJCWNyZWF0b3IsIGVyciA6PSBzZGsuQWNjQWRkcmVzc0Zyb21CZWNoMzIocmVxLkNyZWF0b3IpCgkJaWYgZXJyICE9IG5pbCB7CgkJCXJlc3QuV3JpdGVFcnJvclJlc3BvbnNlKHcsIGh0dHAuU3RhdHVzQmFkUmVxdWVzdCwgZXJyLkVycm9yKCkpCgkJCXJldHVybgoJCX0KCgkJcGFyc2VkRGVzY3JpcHRpb24gOj0gcmVxLkRlc2NyaXB0aW9uCgoJCXBhcnNlZFNvbHV0aW9uSGFzaCA6PSByZXEuU29sdXRpb25IYXNoCgoJCXBhcnNlZFJld2FyZCA6PSByZXEuUmV3YXJkCgoJCXBhcnNlZFNvbHV0aW9uIDo9IHJlcS5Tb2x1dGlvbgoKCQlwYXJzZWRTY2F2ZW5nZXIgOj0gcmVxLlNjYXZlbmdlcgoKCQltc2cgOj0gdHlwZXMuTmV3TXNnU2V0U2NhdmVuZ2UoCgkJCWNyZWF0b3IsCgkJCXBhcnNlZERlc2NyaXB0aW9uLAoJCQlwYXJzZWRTb2x1dGlvbkhhc2gsCgkJCXBhcnNlZFJld2FyZCwKCQkJcGFyc2VkU29sdXRpb24sCgkJCXBhcnNlZFNjYXZlbmdlciwKCQkpCgoJCWVyciA9IG1zZy5WYWxpZGF0ZUJhc2ljKCkKCQlpZiBlcnIgIT0gbmlsIHsKCQkJcmVzdC5Xcml0ZUVycm9yUmVzcG9uc2UodywgaHR0cC5TdGF0dXNCYWRSZXF1ZXN0LCBlcnIuRXJyb3IoKSkKCQkJcmV0dXJuCgkJfQoKCQl1dGlscy5Xcml0ZUdlbmVyYXRlU3RkVHhSZXNwb25zZSh3LCBjbGlDdHgsIGJhc2VSZXEsIFtdc2RrLk1zZ3ttc2d9KQoJfQp9Cgp0eXBlIGRlbGV0ZVNjYXZlbmdlUmVxdWVzdCBzdHJ1Y3QgewoJQmFzZVJlcSByZXN0LkJhc2VSZXEgYGpzb246JnF1b3Q7YmFzZV9yZXEmcXVvdDtgCglDcmVhdG9yIHN0cmluZyAgICAgICBganNvbjomcXVvdDtjcmVhdG9yJnF1b3Q7YAoJSUQgICAgICBzdHJpbmcgICAgICAgYGpzb246JnF1b3Q7aWQmcXVvdDtgCn0KCmZ1bmMgZGVsZXRlU2NhdmVuZ2VIYW5kbGVyKGNsaUN0eCBjb250ZXh0LkNMSUNvbnRleHQpIGh0dHAuSGFuZGxlckZ1bmMgewoJcmV0dXJuIGZ1bmModyBodHRwLlJlc3BvbnNlV3JpdGVyLCByICpodHRwLlJlcXVlc3QpIHsKCQl2YXIgcmVxIGRlbGV0ZVNjYXZlbmdlUmVxdWVzdAoJCWlmICFyZXN0LlJlYWRSRVNUUmVxKHcsIHIsIGNsaUN0eC5Db2RlYywgJmFtcDtyZXEpIHsKCQkJcmVzdC5Xcml0ZUVycm9yUmVzcG9uc2UodywgaHR0cC5TdGF0dXNCYWRSZXF1ZXN0LCAmcXVvdDtmYWlsZWQgdG8gcGFyc2UgcmVxdWVzdCZxdW90OykKCQkJcmV0dXJuCgkJfQoJCWJhc2VSZXEgOj0gcmVxLkJhc2VSZXEuU2FuaXRpemUoKQoJCWlmICFiYXNlUmVxLlZhbGlkYXRlQmFzaWModykgewoJCQlyZXR1cm4KCQl9CgkJY3JlYXRvciwgZXJyIDo9IHNkay5BY2NBZGRyZXNzRnJvbUJlY2gzMihyZXEuQ3JlYXRvcikKCQlpZiBlcnIgIT0gbmlsIHsKCQkJcmVzdC5Xcml0ZUVycm9yUmVzcG9uc2UodywgaHR0cC5TdGF0dXNCYWRSZXF1ZXN0LCBlcnIuRXJyb3IoKSkKCQkJcmV0dXJuCgkJfQoJCW1zZyA6PSB0eXBlcy5OZXdNc2dEZWxldGVTY2F2ZW5nZShyZXEuSUQsIGNyZWF0b3IpCgoJCWVyciA9IG1zZy5WYWxpZGF0ZUJhc2ljKCkKCQlpZiBlcnIgIT0gbmlsIHsKCQkJcmVzdC5Xcml0ZUVycm9yUmVzcG9uc2UodywgaHR0cC5TdGF0dXNCYWRSZXF1ZXN0LCBlcnIuRXJyb3IoKSkKCQkJcmV0dXJuCgkJfQoKCQl1dGlscy5Xcml0ZUdlbmVyYXRlU3RkVHhSZXNwb25zZSh3LCBjbGlDdHgsIGJhc2VSZXEsIFtdc2RrLk1zZ3ttc2d9KQoJfQp9Cg=="}}),c._v(" "),C("p",[c._v("Your application is now complete! In the next step, we can start playing our game.")])],1)}),[],!1,null,null,null);l.default=b.exports}}]);